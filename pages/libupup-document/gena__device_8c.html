<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libUPnP: /Users/mylhyz/Downloads/libupnp-1.14.18/upnp/src/gena/gena_device.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libUPnP<span id="projectnumber">&#160;1.14.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_500eb3075243de088213ee7b504b6a30.html">upnp</a></li><li class="navelem"><a class="el" href="dir_9eafd26b178b581de33acfe950a9348a.html">src</a></li><li class="navelem"><a class="el" href="dir_8d38c4281bf487b6160e1ba37212396e.html">gena</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">gena_device.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="gena__device_8h_source.html">gena_device.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="gena_8h_source.html">gena.h</a>&quot;</code><br />
<code>#include &quot;httpreadwrite.h&quot;</code><br />
<code>#include &quot;<a class="el" href="parsetools_8h_source.html">parsetools.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ssdplib_8h_source.html">ssdplib.h</a>&quot;</code><br />
<code>#include &quot;statcodes.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sysdep_8h_source.html">sysdep.h</a>&quot;</code><br />
<code>#include &quot;unixutil.h&quot;</code><br />
<code>#include &quot;<a class="el" href="upnpapi_8h_source.html">upnpapi.h</a>&quot;</code><br />
<code>#include &quot;uuid.h&quot;</code><br />
<code>#include &quot;posix_overwrites.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gena_device.c:</div>
<div class="dyncontent">
<div class="center"><img src="gena__device_8c__incl.png" border="0" usemap="#a_2Users_2mylhyz_2Downloads_2libupnp-1_814_818_2upnp_2src_2gena_2gena__device_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab0db1f3547fc748812fc874bca3dfb45" id="r_ab0db1f3547fc748812fc874bca3dfb45"><td class="memItemLeft" align="right" valign="top"><a id="ab0db1f3547fc748812fc874bca3dfb45" name="ab0db1f3547fc748812fc874bca3dfb45"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>STALE_JOBID</b>&#160;&#160;&#160;(<a class="el" href="ThreadPool_8h.html#a10c25f66b6b9bd5782d5246818f8815e">INVALID_JOB_ID</a> - 1)</td></tr>
<tr class="separator:ab0db1f3547fc748812fc874bca3dfb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4cc29d7a5d53dccd66f6b11abb532a05" id="r_a4cc29d7a5d53dccd66f6b11abb532a05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cc29d7a5d53dccd66f6b11abb532a05">genaUnregisterDevice</a> (<a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a> <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>)</td></tr>
<tr class="memdesc:a4cc29d7a5d53dccd66f6b11abb532a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a device.  <br /></td></tr>
<tr class="separator:a4cc29d7a5d53dccd66f6b11abb532a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72812f2500ea26fde1e89000d78b1dd6" id="r_a72812f2500ea26fde1e89000d78b1dd6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72812f2500ea26fde1e89000d78b1dd6">GeneratePropertySet</a> (char **names, char **values, int count, <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a> *out)</td></tr>
<tr class="memdesc:a72812f2500ea26fde1e89000d78b1dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates XML property set for notifications.  <br /></td></tr>
<tr class="separator:a72812f2500ea26fde1e89000d78b1dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bac1f9034e2ff1e8955aff360226ad2" id="r_a7bac1f9034e2ff1e8955aff360226ad2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7bac1f9034e2ff1e8955aff360226ad2">free_notify_struct</a> (<a class="el" href="gena_8h.html#a05d519a30da1d0bef9ff4b9239f5f631">notify_thread_struct</a> *input)</td></tr>
<tr class="memdesc:a7bac1f9034e2ff1e8955aff360226ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees memory used in notify_threads if the reference count is 0, otherwise decrements the refrence count.  <br /></td></tr>
<tr class="separator:a7bac1f9034e2ff1e8955aff360226ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7f60ea1b593eaa2396d1b6bb717a89" id="r_ace7f60ea1b593eaa2396d1b6bb717a89"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace7f60ea1b593eaa2396d1b6bb717a89">notify_send_and_recv</a> (<a class="el" href="uri_8h.html#a90949be5f73c7a2d831c0f6a653f55d8">uri_type</a> *destination_url, <a class="el" href="structmembuffer.html">membuffer</a> *mid_msg, char *propertySet, <a class="el" href="structhttp__parser__t.html">http_parser_t</a> *response)</td></tr>
<tr class="memdesc:ace7f60ea1b593eaa2396d1b6bb717a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the notify message and returns a reply.  <br /></td></tr>
<tr class="separator:ace7f60ea1b593eaa2396d1b6bb717a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50b8ec11f841c2740d7e343668a7644" id="r_ae50b8ec11f841c2740d7e343668a7644"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae50b8ec11f841c2740d7e343668a7644">genaNotify</a> (char *headers, char *propertySet, <a class="el" href="structSUBSCRIPTION.html">subscription</a> *sub)</td></tr>
<tr class="memdesc:ae50b8ec11f841c2740d7e343668a7644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to Notify a particular subscription of a particular event.  <br /></td></tr>
<tr class="separator:ae50b8ec11f841c2740d7e343668a7644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176994d9eaae47e4691fb3126e0ad266" id="r_a176994d9eaae47e4691fb3126e0ad266"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a176994d9eaae47e4691fb3126e0ad266">genaNotifyThread</a> (void *input)</td></tr>
<tr class="memdesc:a176994d9eaae47e4691fb3126e0ad266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread job to Notify a control point.  <br /></td></tr>
<tr class="separator:a176994d9eaae47e4691fb3126e0ad266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ea33e94b2bfc4c8ed1e6a23879ca8c" id="r_ac4ea33e94b2bfc4c8ed1e6a23879ca8c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4ea33e94b2bfc4c8ed1e6a23879ca8c">AllocGenaHeaders</a> (const <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a> propertySet)</td></tr>
<tr class="memdesc:ac4ea33e94b2bfc4c8ed1e6a23879ca8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the GENA header.  <br /></td></tr>
<tr class="separator:ac4ea33e94b2bfc4c8ed1e6a23879ca8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1503915b6cd3d0ea5adc7b5493b589ab" id="r_a1503915b6cd3d0ea5adc7b5493b589ab"><td class="memItemLeft" align="right" valign="top"><a id="a1503915b6cd3d0ea5adc7b5493b589ab" name="a1503915b6cd3d0ea5adc7b5493b589ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>freeSubscriptionQueuedEvents</b> (<a class="el" href="structSUBSCRIPTION.html">subscription</a> *sub)</td></tr>
<tr class="separator:a1503915b6cd3d0ea5adc7b5493b589ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acabc5c8b97821c84f619dfa8488fec39" id="r_acabc5c8b97821c84f619dfa8488fec39"><td class="memItemLeft" align="right" valign="top"><a id="acabc5c8b97821c84f619dfa8488fec39" name="acabc5c8b97821c84f619dfa8488fec39"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>genaInitNotifyCommon</b> (<a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a> <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, char *UDN, char *servId, <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a> propertySet, const <a class="el" href="group__UPnPAPI.html#ga12b0c6df3254ac4a5c88aeb7e7c9dc90">Upnp_SID</a> sid)</td></tr>
<tr class="separator:acabc5c8b97821c84f619dfa8488fec39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe08f0a722cafb84faa9def7850da596" id="r_afe08f0a722cafb84faa9def7850da596"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe08f0a722cafb84faa9def7850da596">genaInitNotify</a> (<a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a> <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, char *UDN, char *servId, char **VarNames, char **VarValues, int var_count, const <a class="el" href="group__UPnPAPI.html#ga12b0c6df3254ac4a5c88aeb7e7c9dc90">Upnp_SID</a> sid)</td></tr>
<tr class="memdesc:afe08f0a722cafb84faa9def7850da596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the intial state table dump to newly subscribed control point.  <br /></td></tr>
<tr class="separator:afe08f0a722cafb84faa9def7850da596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf54fcafc02a512a76124ab8bf938f6" id="r_aadf54fcafc02a512a76124ab8bf938f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aadf54fcafc02a512a76124ab8bf938f6">genaInitNotifyExt</a> (<a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a> <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, char *UDN, char *servId, <a class="el" href="group__XMLAPI.html#ga5793edd7c508f16aacc76b640280ccfb">IXML_Document</a> *PropSet, const <a class="el" href="group__UPnPAPI.html#ga12b0c6df3254ac4a5c88aeb7e7c9dc90">Upnp_SID</a> sid)</td></tr>
<tr class="memdesc:aadf54fcafc02a512a76124ab8bf938f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to the genaInitNofity. The only difference is that it takes the xml document for the state table and sends the intial state table dump to newly subscribed control point.  <br /></td></tr>
<tr class="separator:aadf54fcafc02a512a76124ab8bf938f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab287705f332fd5c21615e88fbab17a43" id="r_ab287705f332fd5c21615e88fbab17a43"><td class="memItemLeft" align="right" valign="top"><a id="ab287705f332fd5c21615e88fbab17a43" name="ab287705f332fd5c21615e88fbab17a43"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>maybeDiscardEvents</b> (<a class="el" href="LinkedList_8h.html#a84d1191536c4004b2afefcfe4cd71062">LinkedList</a> *listp)</td></tr>
<tr class="separator:ab287705f332fd5c21615e88fbab17a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b4287c8d33d5fcdea75bf3b2f12401" id="r_ac1b4287c8d33d5fcdea75bf3b2f12401"><td class="memItemLeft" align="right" valign="top"><a id="ac1b4287c8d33d5fcdea75bf3b2f12401" name="ac1b4287c8d33d5fcdea75bf3b2f12401"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>genaNotifyAllCommon</b> (<a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a> <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, char *UDN, char *servId, <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a> propertySet)</td></tr>
<tr class="separator:ac1b4287c8d33d5fcdea75bf3b2f12401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f2185f7e2ef6345535174b920c6e86b" id="r_a8f2185f7e2ef6345535174b920c6e86b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f2185f7e2ef6345535174b920c6e86b">genaNotifyAllExt</a> (<a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a> <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, char *UDN, char *servId, <a class="el" href="group__XMLAPI.html#ga5793edd7c508f16aacc76b640280ccfb">IXML_Document</a> *PropSet)</td></tr>
<tr class="memdesc:a8f2185f7e2ef6345535174b920c6e86b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a notification to all the subscribed control points.  <br /></td></tr>
<tr class="separator:a8f2185f7e2ef6345535174b920c6e86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3300ba366cae7db4f8c21b0119cdacd9" id="r_a3300ba366cae7db4f8c21b0119cdacd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3300ba366cae7db4f8c21b0119cdacd9">genaNotifyAll</a> (<a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a> <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, char *UDN, char *servId, char **VarNames, char **VarValues, int var_count)</td></tr>
<tr class="memdesc:a3300ba366cae7db4f8c21b0119cdacd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a notification to all the subscribed control points.  <br /></td></tr>
<tr class="separator:a3300ba366cae7db4f8c21b0119cdacd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea18ab9fac53047c7e10fe1f1a37db4a" id="r_aea18ab9fac53047c7e10fe1f1a37db4a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea18ab9fac53047c7e10fe1f1a37db4a">respond_ok</a> (<a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info, int time_out, <a class="el" href="structSUBSCRIPTION.html">subscription</a> *sub, <a class="el" href="structhttp__message__t.html">http_message_t</a> *request)</td></tr>
<tr class="memdesc:aea18ab9fac53047c7e10fe1f1a37db4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns OK message in the case of a subscription request.  <br /></td></tr>
<tr class="separator:aea18ab9fac53047c7e10fe1f1a37db4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef89682c88377ec2d5e11b1bad02ce9" id="r_acef89682c88377ec2d5e11b1bad02ce9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acef89682c88377ec2d5e11b1bad02ce9">create_url_list</a> (<a class="el" href="structmemptr.html">memptr</a> *url_list, <a class="el" href="uri_8h.html#a16e1a57e1585bd30b8ca1e9c34ad46b1">URL_list</a> *out)</td></tr>
<tr class="memdesc:acef89682c88377ec2d5e11b1bad02ce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to parse the Callback header value in subscription requests.  <br /></td></tr>
<tr class="separator:acef89682c88377ec2d5e11b1bad02ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71890260f593c5a1f074b8094b03153f" id="r_a71890260f593c5a1f074b8094b03153f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71890260f593c5a1f074b8094b03153f">gena_validate_delivery_urls</a> (<a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info, <a class="el" href="uri_8h.html#a16e1a57e1585bd30b8ca1e9c34ad46b1">URL_list</a> *url_list)</td></tr>
<tr class="memdesc:a71890260f593c5a1f074b8094b03153f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate that the URLs passed by the user are on the same network segment than the device.  <br /></td></tr>
<tr class="separator:a71890260f593c5a1f074b8094b03153f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ad1852d4d32c6f34a87b92225202fd" id="r_a25ad1852d4d32c6f34a87b92225202fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25ad1852d4d32c6f34a87b92225202fd">gena_process_subscription_request</a> (<a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info, <a class="el" href="structhttp__message__t.html">http_message_t</a> *request)</td></tr>
<tr class="memdesc:a25ad1852d4d32c6f34a87b92225202fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a subscription request from a ctrl point. The socket is not closed on return.  <br /></td></tr>
<tr class="separator:a25ad1852d4d32c6f34a87b92225202fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd1575d4217390506014c896b22251e" id="r_a6fd1575d4217390506014c896b22251e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6fd1575d4217390506014c896b22251e">gena_process_subscription_renewal_request</a> (<a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info, <a class="el" href="structhttp__message__t.html">http_message_t</a> *request)</td></tr>
<tr class="memdesc:a6fd1575d4217390506014c896b22251e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a subscription renewal request from a ctrl point. The connection is not destroyed on return.  <br /></td></tr>
<tr class="separator:a6fd1575d4217390506014c896b22251e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b03afbfa4cbf8c318857a43bbf92d8e" id="r_a4b03afbfa4cbf8c318857a43bbf92d8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b03afbfa4cbf8c318857a43bbf92d8e">gena_process_unsubscribe_request</a> (<a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info, <a class="el" href="structhttp__message__t.html">http_message_t</a> *request)</td></tr>
<tr class="memdesc:a4b03afbfa4cbf8c318857a43bbf92d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a subscription cancellation request from a ctrl point. The connection is not destroyed on return.  <br /></td></tr>
<tr class="separator:a4b03afbfa4cbf8c318857a43bbf92d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac4ea33e94b2bfc4c8ed1e6a23879ca8c" name="ac4ea33e94b2bfc4c8ed1e6a23879ca8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ea33e94b2bfc4c8ed1e6a23879ca8c">&#9670;&#160;</a></span>AllocGenaHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * AllocGenaHeaders </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a></td>          <td class="paramname"><span class="paramname"><em>propertySet</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the GENA header. </p>
<dl class="section note"><dt>Note</dt><dd>The header must be destroyed after with a call to free(), otherwise there will be a memory leak.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The constructed header. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">propertySet</td><td>The property set string. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

</div>
</div>
<a id="acef89682c88377ec2d5e11b1bad02ce9" name="acef89682c88377ec2d5e11b1bad02ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef89682c88377ec2d5e11b1bad02ce9">&#9670;&#160;</a></span>create_url_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int create_url_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmemptr.html">memptr</a> *</td>          <td class="paramname"><span class="paramname"><em>url_list</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uri_8h.html#a16e1a57e1585bd30b8ca1e9c34ad46b1">URL_list</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to parse the Callback header value in subscription requests. </p>
<p>Takes in a buffer containing URLS delimited by '&lt;' and '&gt;'. The entire buffer is copied into dynamic memory and stored in the URL_list. Pointers to the individual urls within this buffer are allocated and stored in the URL_list. Only URLs with network addresses are considered (i.e. host:port or domain name).</p>
<dl class="section return"><dt>Returns</dt><dd>The number of URLs parsed if successful, otherwise UPNP_E_OUTOF_MEMORY. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">url_list</td><td>.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmemptr.html#ae3089c9df96fc059185fec2d6bed61aa">memptr::buf</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, <a class="el" href="uri_8c.html#ae59095a3e023c16f4dd68bc60e21f7c7">parse_uri()</a>, <a class="el" href="structHOSTPORT.html#a0f1ab51b911fb2bf4e6ab546dc8b7f4b">HOSTPORT::text</a>, <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>, and <a class="el" href="structURL__LIST.html#ad950d5686cfbe4942bcfff93be1472c1">URL_LIST::URLs</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a25ad1852d4d32c6f34a87b92225202fd">gena_process_subscription_request()</a>.</p>

</div>
</div>
<a id="a7bac1f9034e2ff1e8955aff360226ad2" name="a7bac1f9034e2ff1e8955aff360226ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bac1f9034e2ff1e8955aff360226ad2">&#9670;&#160;</a></span>free_notify_struct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_notify_struct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gena_8h.html#a05d519a30da1d0bef9ff4b9239f5f631">notify_thread_struct</a> *</td>          <td class="paramname"><span class="paramname"><em>input</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees memory used in notify_threads if the reference count is 0, otherwise decrements the refrence count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Notify structure. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__XMLAPI.html#ga82c922f41443f90e367d217757c2e50f">ixmlFreeDOMString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a176994d9eaae47e4691fb3126e0ad266">genaNotifyThread()</a>.</p>

</div>
</div>
<a id="a6fd1575d4217390506014c896b22251e" name="a6fd1575d4217390506014c896b22251e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fd1575d4217390506014c896b22251e">&#9670;&#160;</a></span>gena_process_subscription_renewal_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gena_process_subscription_renewal_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles a subscription renewal request from a ctrl point. The connection is not destroyed on return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Socket info of the device.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>Subscription renewal request from the control point. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structmemptr.html#ae3089c9df96fc059185fec2d6bed61aa">memptr::buf</a>, <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__Sock.html#ga09b419e449f44f696e6fb3596c8a3b0a">SOCKINFO::foreign_sockaddr</a>, <a class="el" href="group__UPnPAPI.html#ga67f191fc3d9877d0efef0af385d07ac9">GetDeviceHandleInfoForPath()</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, <a class="el" href="structHandle__Info.html#acafe316f00ef26251a966a22e732fd07">Handle_Info::MaxSubscriptions</a>, <a class="el" href="structHandle__Info.html#ac70f7aa6bdbe7d874619133056c62435">Handle_Info::MaxSubscriptionTimeOut</a>, <a class="el" href="httpparser_8h.html#aaec739c6f0ff93b139062af2ba4b0f1dac6100102562753aa9aa43bd7885baa6e">PARSE_OK</a>, <a class="el" href="#aea18ab9fac53047c7e10fe1f1a37db4a">respond_ok()</a>, <a class="el" href="group__UPnPAPI.html#ga8496dde0ca68f0cd92b58db8563b73b7">UPNP_E_SUCCESS</a>, <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>, and <a class="el" href="structhttp__message__t.html#a13c130c56a7461ec81a060deb0764164">http_message_t::uri</a>.</p>

<p class="reference">Referenced by <a class="el" href="gena_8h.html#a6f658b4eab5786398a00a53b87e7c622">genaCallback()</a>.</p>

</div>
</div>
<a id="a25ad1852d4d32c6f34a87b92225202fd" name="a25ad1852d4d32c6f34a87b92225202fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25ad1852d4d32c6f34a87b92225202fd">&#9670;&#160;</a></span>gena_process_subscription_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gena_process_subscription_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles a subscription request from a ctrl point. The socket is not closed on return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Socket info of the device.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>Subscription request from the control point. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmemptr.html#ae3089c9df96fc059185fec2d6bed61aa">memptr::buf</a>, <a class="el" href="structHandle__Info.html#ac44eb7c7ea9f305246aef9e12185c75b">Handle_Info::Callback</a>, <a class="el" href="structHandle__Info.html#ac1a035a344ed6fad873ac83114ec7904">Handle_Info::Cookie</a>, <a class="el" href="#acef89682c88377ec2d5e11b1bad02ce9">create_url_list()</a>, <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__Sock.html#ga09b419e449f44f696e6fb3596c8a3b0a">SOCKINFO::foreign_sockaddr</a>, <a class="el" href="#a71890260f593c5a1f074b8094b03153f">gena_validate_delivery_urls()</a>, <a class="el" href="group__UPnPAPI.html#ga67f191fc3d9877d0efef0af385d07ac9">GetDeviceHandleInfoForPath()</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, <a class="el" href="structHandle__Info.html#acafe316f00ef26251a966a22e732fd07">Handle_Info::MaxSubscriptions</a>, <a class="el" href="structHandle__Info.html#ac70f7aa6bdbe7d874619133056c62435">Handle_Info::MaxSubscriptionTimeOut</a>, <a class="el" href="httpparser_8h.html#aaec739c6f0ff93b139062af2ba4b0f1dac6100102562753aa9aa43bd7885baa6e">PARSE_OK</a>, <a class="el" href="#aea18ab9fac53047c7e10fe1f1a37db4a">respond_ok()</a>, <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>, <a class="el" href="group__UPnPAPI.html#ga8496dde0ca68f0cd92b58db8563b73b7">UPNP_E_SUCCESS</a>, <a class="el" href="Callback_8h.html#a751d2422ae0051f6d15da3c924f8cbb9a2a1a6336feba855339492984692c1d5b">UPNP_EVENT_SUBSCRIPTION_REQUEST</a>, <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>, <a class="el" href="UpnpSubscriptionRequest_8h.html#a0b787f442ee451e110c3295a7a88a373">UpnpSubscriptionRequest_delete()</a>, <a class="el" href="UpnpSubscriptionRequest_8h.html#a768c19623f66c87fc68088df2e4c184c">UpnpSubscriptionRequest_new()</a>, <a class="el" href="UpnpSubscriptionRequest_8h.html#a6940dd3796cd8d0be1132d4a3fce5370">UpnpSubscriptionRequest_strcpy_ServiceId()</a>, <a class="el" href="UpnpSubscriptionRequest_8h.html#aa2f1abcd6f8f1fdfe6bcb3aac755b32f">UpnpSubscriptionRequest_strcpy_SID()</a>, <a class="el" href="UpnpSubscriptionRequest_8h.html#a48f44a4fc5945c3bb4879a6be477d231">UpnpSubscriptionRequest_strcpy_UDN()</a>, <a class="el" href="structhttp__message__t.html#a13c130c56a7461ec81a060deb0764164">http_message_t::uri</a>, and <a class="el" href="structURL__LIST.html#ad950d5686cfbe4942bcfff93be1472c1">URL_LIST::URLs</a>.</p>

<p class="reference">Referenced by <a class="el" href="gena_8h.html#a6f658b4eab5786398a00a53b87e7c622">genaCallback()</a>.</p>

</div>
</div>
<a id="a4b03afbfa4cbf8c318857a43bbf92d8e" name="a4b03afbfa4cbf8c318857a43bbf92d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b03afbfa4cbf8c318857a43bbf92d8e">&#9670;&#160;</a></span>gena_process_unsubscribe_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gena_process_unsubscribe_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles a subscription cancellation request from a ctrl point. The connection is not destroyed on return. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Socket info of the device.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>UNSUBSCRIBE request from the control point. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structmemptr.html#ae3089c9df96fc059185fec2d6bed61aa">memptr::buf</a>, <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__Sock.html#ga09b419e449f44f696e6fb3596c8a3b0a">SOCKINFO::foreign_sockaddr</a>, <a class="el" href="group__UPnPAPI.html#ga67f191fc3d9877d0efef0af385d07ac9">GetDeviceHandleInfoForPath()</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, and <a class="el" href="structhttp__message__t.html#a13c130c56a7461ec81a060deb0764164">http_message_t::uri</a>.</p>

<p class="reference">Referenced by <a class="el" href="gena_8h.html#a6f658b4eab5786398a00a53b87e7c622">genaCallback()</a>.</p>

</div>
</div>
<a id="a71890260f593c5a1f074b8094b03153f" name="a71890260f593c5a1f074b8094b03153f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71890260f593c5a1f074b8094b03153f">&#9670;&#160;</a></span>gena_validate_delivery_urls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gena_validate_delivery_urls </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uri_8h.html#a16e1a57e1585bd30b8ca1e9c34ad46b1">URL_list</a> *</td>          <td class="paramname"><span class="paramname"><em>url_list</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate that the URLs passed by the user are on the same network segment than the device. </p>
<p>Note: This is a fix for CallStanger a.k.a. CVE-2020-12695</p>
<dl class="section return"><dt>Returns</dt><dd>0 if all URLs are on the same segment or -1 otherwise. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">url_list</td><td>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__Sock.html#ga09b419e449f44f696e6fb3596c8a3b0a">SOCKINFO::foreign_sockaddr</a>, <a class="el" href="group__UPnPAPI.html#gacf4a303b0077dbc6fd9847a35ca9ab00">gIF_IPV4</a>, <a class="el" href="group__UPnPAPI.html#gadeab4435dd9e96727e819e03f6e034da">gIF_IPV4_NETMASK</a>, <a class="el" href="group__UPnPAPI.html#gae6f264655ff472f88641e92223a9b671">gIF_IPV6</a>, <a class="el" href="group__UPnPAPI.html#ga71c1aeb985b2c40b7574c469e22e9a66">gIF_IPV6_PREFIX_LENGTH</a>, <a class="el" href="group__UPnPAPI.html#ga28cd6f2a372863a541771965db91e95a">gIF_IPV6_ULA_GUA</a>, <a class="el" href="group__UPnPAPI.html#ga1051faa771afdee6227ce54cb298d092">gIF_IPV6_ULA_GUA_PREFIX_LENGTH</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a25ad1852d4d32c6f34a87b92225202fd">gena_process_subscription_request()</a>.</p>

</div>
</div>
<a id="afe08f0a722cafb84faa9def7850da596" name="afe08f0a722cafb84faa9def7850da596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe08f0a722cafb84faa9def7850da596">&#9670;&#160;</a></span>genaInitNotify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genaInitNotify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a></td>          <td class="paramname"><span class="paramname"><em>device_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>UDN</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>servId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>VarNames</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>VarValues</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>var_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__UPnPAPI.html#ga12b0c6df3254ac4a5c88aeb7e7c9dc90">Upnp_SID</a></td>          <td class="paramname"><span class="paramname"><em>sid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the intial state table dump to newly subscribed control point. </p>
<dl class="section return"><dt>Returns</dt><dd>GENA_E_SUCCESS if successful, otherwise the appropriate error code.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>No other event will be sent to this control point before the intial state table dump. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device_handle</td><td>Device handle.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">UDN</td><td>Device udn.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">servId</td><td>Service ID.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VarNames</td><td>Array of variable names.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VarValues</td><td>Array of variable values.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var_count</td><td>Array size.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sid</td><td>Subscription ID. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a>, <a class="el" href="#a72812f2500ea26fde1e89000d78b1dd6">GeneratePropertySet()</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#gab41d7c88cabb65153e4e79e2d86774f3">UpnpAcceptSubscription()</a>.</p>

</div>
</div>
<a id="aadf54fcafc02a512a76124ab8bf938f6" name="aadf54fcafc02a512a76124ab8bf938f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf54fcafc02a512a76124ab8bf938f6">&#9670;&#160;</a></span>genaInitNotifyExt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genaInitNotifyExt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a></td>          <td class="paramname"><span class="paramname"><em>device_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>UDN</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>servId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__XMLAPI.html#ga5793edd7c508f16aacc76b640280ccfb">IXML_Document</a> *</td>          <td class="paramname"><span class="paramname"><em>PropSet</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__UPnPAPI.html#ga12b0c6df3254ac4a5c88aeb7e7c9dc90">Upnp_SID</a></td>          <td class="paramname"><span class="paramname"><em>sid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to the genaInitNofity. The only difference is that it takes the xml document for the state table and sends the intial state table dump to newly subscribed control point. </p>
<dl class="section return"><dt>Returns</dt><dd>GENA_E_SUCCESS if successful, otherwise the appropriate error code.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>No other event will be sent to this control point before the intial state table dump. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device_handle</td><td>Device handle.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">UDN</td><td>Device udn.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">servId</td><td>Service ID.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PropSet</td><td>Document of the state table.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sid</td><td>subscription ID. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a>, <a class="el" href="group__XMLAPI.html#gaf0590d22d39914d6d12db11de04fc4d0">ixmlPrintNode()</a>, <a class="el" href="group__UPnPAPI.html#gae3d1f52861b4d2afed68c7d46aad55c4">UPNP_E_INVALID_PARAM</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#ga3c4877a96fb340605b773f44c000b171">UpnpAcceptSubscriptionExt()</a>.</p>

</div>
</div>
<a id="ae50b8ec11f841c2740d7e343668a7644" name="ae50b8ec11f841c2740d7e343668a7644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50b8ec11f841c2740d7e343668a7644">&#9670;&#160;</a></span>genaNotify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int genaNotify </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>headers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>propertySet</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSUBSCRIPTION.html">subscription</a> *</td>          <td class="paramname"><span class="paramname"><em>sub</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to Notify a particular subscription of a particular event. </p>
<p>In general the service should NOT be blocked around this call (this may cause deadlock with a client).</p>
<p>NOTIFY http request is sent and the reply is processed.</p>
<dl class="section return"><dt>Returns</dt><dd>GENA_SUCCESS if the event was delivered, otherwise returns the appropriate error code. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">headers</td><td>Null terminated, includes all headers (including \r\n) except SID and SEQ.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">propertySet</td><td>The evented XML.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sub</td><td>subscription to be Notified, assumes this is valid for life of function. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="httpreadwrite_8c.html#af5981cc2f7cc76c3e6b6700c5f27c472">http_MakeMessage()</a>, <a class="el" href="#ace7f60ea1b593eaa2396d1b6bb717a89">notify_send_and_recv()</a>, <a class="el" href="structhttp__message__t.html#a6e533777011a4bd0c5bbdc9c303f04f6">http_message_t::status_code</a>, <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>, and <a class="el" href="group__UPnPAPI.html#ga8496dde0ca68f0cd92b58db8563b73b7">UPNP_E_SUCCESS</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a176994d9eaae47e4691fb3126e0ad266">genaNotifyThread()</a>.</p>

</div>
</div>
<a id="a3300ba366cae7db4f8c21b0119cdacd9" name="a3300ba366cae7db4f8c21b0119cdacd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3300ba366cae7db4f8c21b0119cdacd9">&#9670;&#160;</a></span>genaNotifyAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genaNotifyAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a></td>          <td class="paramname"><span class="paramname"><em>device_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>UDN</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>servId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>VarNames</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>VarValues</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>var_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a notification to all the subscribed control points. </p>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is similar to the genaNotifyAllExt. The only difference is it takes event variable array instead of xml document. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device_handle</td><td>Device handle.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">UDN</td><td>Device udn.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">servId</td><td>Service ID.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VarNames</td><td>Array of varible names.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VarValues</td><td>Array of variable values.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var_count</td><td>Number of variables. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a>, <a class="el" href="#a72812f2500ea26fde1e89000d78b1dd6">GeneratePropertySet()</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#ga81e1e114fb5cf33f7890b162b8ec93cc">UpnpNotify()</a>.</p>

</div>
</div>
<a id="a8f2185f7e2ef6345535174b920c6e86b" name="a8f2185f7e2ef6345535174b920c6e86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f2185f7e2ef6345535174b920c6e86b">&#9670;&#160;</a></span>genaNotifyAllExt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genaNotifyAllExt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a></td>          <td class="paramname"><span class="paramname"><em>device_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>UDN</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>servId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__XMLAPI.html#ga5793edd7c508f16aacc76b640280ccfb">IXML_Document</a> *</td>          <td class="paramname"><span class="paramname"><em>PropSet</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a notification to all the subscribed control points. </p>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is similar to the genaNotifyAll. the only difference is it takes the document instead of event variable array. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device_handle</td><td>Device handle.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">UDN</td><td>Device udn.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">servId</td><td>Service ID.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PropSet</td><td>XML document Event varible property set. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a>, <a class="el" href="group__XMLAPI.html#gaf0590d22d39914d6d12db11de04fc4d0">ixmlPrintNode()</a>, <a class="el" href="group__UPnPAPI.html#gae3d1f52861b4d2afed68c7d46aad55c4">UPNP_E_INVALID_PARAM</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#ga9fd83dee4b8e328e7b8250e03335f602">UpnpNotifyExt()</a>.</p>

</div>
</div>
<a id="a176994d9eaae47e4691fb3126e0ad266" name="a176994d9eaae47e4691fb3126e0ad266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176994d9eaae47e4691fb3126e0ad266">&#9670;&#160;</a></span>genaNotifyThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void genaNotifyThread </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>input</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread job to Notify a control point. </p>
<p>It validates the subscription and copies the subscription. Also make sure that events are sent in order.</p>
<dl class="section note"><dt>Note</dt><dd>calls the genaNotify to do the actual work. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>notify thread structure containing all the headers and property set info. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a7bac1f9034e2ff1e8955aff360226ad2">free_notify_struct()</a>, <a class="el" href="#ae50b8ec11f841c2740d7e343668a7644">genaNotify()</a>, <a class="el" href="group__UPnPAPI.html#gaeae548043ffcdc00f352a93def8a6a48">GetHandleInfo()</a>, <a class="el" href="group__UPnPAPI.html#ga28877c45f9c6c81ce570bf1143205a9f">gSendThreadPool</a>, <a class="el" href="structHandle__Info.html#a532ced075e5ad2f9e30ad2f77381e2d2">Handle_Info::ServiceTable</a>, and <a class="el" href="ThreadPool_8c.html#a088cce76603a00ba4755257ff96d60c3">ThreadPoolAdd()</a>.</p>

</div>
</div>
<a id="a4cc29d7a5d53dccd66f6b11abb532a05" name="a4cc29d7a5d53dccd66f6b11abb532a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc29d7a5d53dccd66f6b11abb532a05">&#9670;&#160;</a></span>genaUnregisterDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genaUnregisterDevice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__UPnPAPI.html#gaa90371a4578eb8a96a2e0d21ced90960">UpnpDevice_Handle</a></td>          <td class="paramname"><span class="paramname"><em>device_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters a device. </p>
<p>Cleans the service table of the device.</p>
<dl class="section return"><dt>Returns</dt><dd>UPNP_E_SUCCESS on success, GENA_E_BAD_HANDLE on failure. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device_handle</td><td>Device handle. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__UpnpSamples.html#gabcf4f9fc3b7faad1f729b04e08fbafeb">device_handle</a>, <a class="el" href="group__UPnPAPI.html#gaeae548043ffcdc00f352a93def8a6a48">GetHandleInfo()</a>, <a class="el" href="structHandle__Info.html#a532ced075e5ad2f9e30ad2f77381e2d2">Handle_Info::ServiceTable</a>, <a class="el" href="group__UPnPAPI.html#ga8496dde0ca68f0cd92b58db8563b73b7">UPNP_E_SUCCESS</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#gab04dfc9206cdac78f584e6d208ba9c72">UpnpUnRegisterRootDeviceLowPower()</a>.</p>

</div>
</div>
<a id="a72812f2500ea26fde1e89000d78b1dd6" name="a72812f2500ea26fde1e89000d78b1dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72812f2500ea26fde1e89000d78b1dd6">&#9670;&#160;</a></span>GeneratePropertySet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int GeneratePropertySet </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>names</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__XMLAPI.html#ga4d657664f7d193b40a875c8919c54d41">DOMString</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates XML property set for notifications. </p>
<dl class="section return"><dt>Returns</dt><dd>UPNP_E_SUCCESS if successful else returns GENA_E_BAD_HANDLE.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The XML_VERSION comment is NOT sent due to interoperability issues with other UPnP vendors. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">names</td><td>Array of variable names (go in the event notify).  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">values</td><td>Array of variable values (go in the event notify).  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of variables.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>PropertySet node in the string format. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__XMLAPI.html#gaeb468262cfcbd458ebe05b25a6adff2c">ixmlCloneDOMString()</a>, and <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>.</p>

<p class="reference">Referenced by <a class="el" href="#afe08f0a722cafb84faa9def7850da596">genaInitNotify()</a>, and <a class="el" href="#a3300ba366cae7db4f8c21b0119cdacd9">genaNotifyAll()</a>.</p>

</div>
</div>
<a id="ace7f60ea1b593eaa2396d1b6bb717a89" name="ace7f60ea1b593eaa2396d1b6bb717a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7f60ea1b593eaa2396d1b6bb717a89">&#9670;&#160;</a></span>notify_send_and_recv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int notify_send_and_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uri_8h.html#a90949be5f73c7a2d831c0f6a653f55d8">uri_type</a> *</td>          <td class="paramname"><span class="paramname"><em>destination_url</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmembuffer.html">membuffer</a> *</td>          <td class="paramname"><span class="paramname"><em>mid_msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>propertySet</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhttp__parser__t.html">http_parser_t</a> *</td>          <td class="paramname"><span class="paramname"><em>response</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends the notify message and returns a reply. </p>
<dl class="section return"><dt>Returns</dt><dd>on success returns UPNP_E_SUCCESS, otherwise returns a UPNP error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>called by genaNotify </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">destination_url</td><td>subscription callback URL (URL of the control point).  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mid_msg</td><td>Common HTTP headers.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">propertySet</td><td>The evented XML.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">response</td><td>The response from the control point. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="httpreadwrite_8c.html#a34aecff8b81e210e4f045f4131b92d73">http_Connect()</a>, <a class="el" href="httpreadwrite_8c.html#af5981cc2f7cc76c3e6b6700c5f27c472">http_MakeMessage()</a>, <a class="el" href="httpreadwrite_8c.html#ac4f5f24f4aa10cc725b96ac5c29a88f7">http_RecvMessage()</a>, <a class="el" href="httpreadwrite_8c.html#a333b21037bc6fd869e0b0b91cc073bbe">http_SendMessage()</a>, <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>, <a class="el" href="group__Sock.html#ga614eac9715a4fe54cac784a860d29320">sock_destroy()</a>, <a class="el" href="group__Sock.html#ga4ffa621a83115b3b714a75a2e37d0489">sock_init()</a>, <a class="el" href="structHOSTPORT.html#a0f1ab51b911fb2bf4e6ab546dc8b7f4b">HOSTPORT::text</a>, <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>, <a class="el" href="group__UPnPAPI.html#ga01908abe1b6ae0541eaa18ef67550432">UPNP_E_SOCKET_CONNECT</a>, <a class="el" href="group__UPnPAPI.html#ga8496dde0ca68f0cd92b58db8563b73b7">UPNP_E_SUCCESS</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae50b8ec11f841c2740d7e343668a7644">genaNotify()</a>.</p>

</div>
</div>
<a id="aea18ab9fac53047c7e10fe1f1a37db4a" name="aea18ab9fac53047c7e10fe1f1a37db4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea18ab9fac53047c7e10fe1f1a37db4a">&#9670;&#160;</a></span>respond_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int respond_ok </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>time_out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSUBSCRIPTION.html">subscription</a> *</td>          <td class="paramname"><span class="paramname"><em>sub</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns OK message in the case of a subscription request. </p>
<dl class="section return"><dt>Returns</dt><dd>UPNP_E_SUCCESS if successful, otherwise the appropriate error code. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Socket connection of request.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_out</td><td>Accepted duration.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sub</td><td>Accepted subscription.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>Http request. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="httpreadwrite_8c.html#af5981cc2f7cc76c3e6b6700c5f27c472">http_MakeMessage()</a>, <a class="el" href="httpreadwrite_8c.html#a333b21037bc6fd869e0b0b91cc073bbe">http_SendMessage()</a>, <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>, <a class="el" href="structmembuffer.html#a16d6035f7a46723eb66434778723dba8">membuffer::size_inc</a>, and <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a6fd1575d4217390506014c896b22251e">gena_process_subscription_renewal_request()</a>, and <a class="el" href="#a25ad1852d4d32c6f34a87b92225202fd">gena_process_subscription_request()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
