<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libUPnP: /Users/mylhyz/Downloads/libupnp-1.14.18/upnp/src/genlib/net/http/webserver.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libUPnP<span id="projectnumber">&#160;1.14.18</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_500eb3075243de088213ee7b504b6a30.html">upnp</a></li><li class="navelem"><a class="el" href="dir_9eafd26b178b581de33acfe950a9348a.html">src</a></li><li class="navelem"><a class="el" href="dir_09aab03f485c1a046374c9f3e5b75075.html">genlib</a></li><li class="navelem"><a class="el" href="dir_fc9cfb719955386ce36d6a68d40f3780.html">net</a></li><li class="navelem"><a class="el" href="dir_bab5e0b8314d99cf41d35e33377f752f.html">http</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">webserver.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Defines the Web Server and has functions to carry out operations of the Web Server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;webserver.h&quot;</code><br />
<code>#include &quot;<a class="el" href="UpnpExtraHeaders_8h_source.html">UpnpExtraHeaders.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="UpnpFileInfo_8h_source.html">UpnpFileInfo.h</a>&quot;</code><br />
<code>#include &quot;UpnpIntTypes.h&quot;</code><br />
<code>#include &quot;UpnpStdInt.h&quot;</code><br />
<code>#include &quot;VirtualDir.h&quot;</code><br />
<code>#include &quot;<a class="el" href="httpparser_8h_source.html">httpparser.h</a>&quot;</code><br />
<code>#include &quot;httpreadwrite.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ithread_8h_source.html">ithread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="membuffer_8h_source.html">membuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ssdplib_8h_source.html">ssdplib.h</a>&quot;</code><br />
<code>#include &quot;statcodes.h&quot;</code><br />
<code>#include &quot;strintmap.h&quot;</code><br />
<code>#include &quot;unixutil.h&quot;</code><br />
<code>#include &quot;<a class="el" href="upnp_8h_source.html">upnp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="upnpapi_8h_source.html">upnpapi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="upnputil_8h_source.html">upnputil.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;posix_overwrites.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for webserver.c:</div>
<div class="dyncontent">
<div class="center"><img src="webserver_8c__incl.png" border="0" usemap="#a_2Users_2mylhyz_2Downloads_2libupnp-1_814_818_2upnp_2src_2genlib_2net_2http_2webserver_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdocument__type__t.html">document_type_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxml__alias__t.html">xml_alias_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7a8259a56d12cb683acfc48cb3cb00ce" id="r_a7a8259a56d12cb683acfc48cb3cb00ce"><td class="memItemLeft" align="right" valign="top"><a id="a7a8259a56d12cb683acfc48cb3cb00ce" name="a7a8259a56d12cb683acfc48cb3cb00ce"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AUDIO_STR</b>&#160;&#160;&#160;&quot;\1&quot;</td></tr>
<tr class="separator:a7a8259a56d12cb683acfc48cb3cb00ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f5945543dd0edb6027a5f88ef2ca8e" id="r_aa5f5945543dd0edb6027a5f88ef2ca8e"><td class="memItemLeft" align="right" valign="top"><a id="aa5f5945543dd0edb6027a5f88ef2ca8e" name="aa5f5945543dd0edb6027a5f88ef2ca8e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VIDEO_STR</b>&#160;&#160;&#160;&quot;\2&quot;</td></tr>
<tr class="separator:aa5f5945543dd0edb6027a5f88ef2ca8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca5cdf0cbe3c5a1328b60299081dfbd5" id="r_aca5cdf0cbe3c5a1328b60299081dfbd5"><td class="memItemLeft" align="right" valign="top"><a id="aca5cdf0cbe3c5a1328b60299081dfbd5" name="aca5cdf0cbe3c5a1328b60299081dfbd5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IMAGE_STR</b>&#160;&#160;&#160;&quot;\3&quot;</td></tr>
<tr class="separator:aca5cdf0cbe3c5a1328b60299081dfbd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b23d92df8fac8fc29c0fceecad2e36" id="r_ad6b23d92df8fac8fc29c0fceecad2e36"><td class="memItemLeft" align="right" valign="top"><a id="ad6b23d92df8fac8fc29c0fceecad2e36" name="ad6b23d92df8fac8fc29c0fceecad2e36"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>APPLICATION_STR</b>&#160;&#160;&#160;&quot;\4&quot;</td></tr>
<tr class="separator:ad6b23d92df8fac8fc29c0fceecad2e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c40121e6b401b13fc75c1c4b4e1a3c8" id="r_a2c40121e6b401b13fc75c1c4b4e1a3c8"><td class="memItemLeft" align="right" valign="top"><a id="a2c40121e6b401b13fc75c1c4b4e1a3c8" name="a2c40121e6b401b13fc75c1c4b4e1a3c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TEXT_STR</b>&#160;&#160;&#160;&quot;\5&quot;</td></tr>
<tr class="separator:a2c40121e6b401b13fc75c1c4b4e1a3c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5265080c7bf85b922f80f0dfafe64ff" id="r_af5265080c7bf85b922f80f0dfafe64ff"><td class="memItemLeft" align="right" valign="top"><a id="af5265080c7bf85b922f80f0dfafe64ff" name="af5265080c7bf85b922f80f0dfafe64ff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>APPLICATION_INDEX</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:af5265080c7bf85b922f80f0dfafe64ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5f30af8076f6e06897b189f1eaac71" id="r_abf5f30af8076f6e06897b189f1eaac71"><td class="memItemLeft" align="right" valign="top"><a id="abf5f30af8076f6e06897b189f1eaac71" name="abf5f30af8076f6e06897b189f1eaac71"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TEXT_INDEX</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:abf5f30af8076f6e06897b189f1eaac71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81851e6867c75388c438b10e8598a9e8" id="r_a81851e6867c75388c438b10e8598a9e8"><td class="memItemLeft" align="right" valign="top"><a id="a81851e6867c75388c438b10e8598a9e8" name="a81851e6867c75388c438b10e8598a9e8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_MEDIA_TYPES</b>&#160;&#160;&#160;70</td></tr>
<tr class="separator:a81851e6867c75388c438b10e8598a9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4f6a582396d395b03d5b17a846dab4" id="r_a7f4f6a582396d395b03d5b17a846dab4"><td class="memItemLeft" align="right" valign="top"><a id="a7f4f6a582396d395b03d5b17a846dab4" name="a7f4f6a582396d395b03d5b17a846dab4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_HTTP_HEADER_NAMES</b>&#160;&#160;&#160;33</td></tr>
<tr class="separator:a7f4f6a582396d395b03d5b17a846dab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0247e747e09145c3a063cbf56e7ac4da" id="r_a0247e747e09145c3a063cbf56e7ac4da"><td class="memItemLeft" align="right" valign="top"><a id="a0247e747e09145c3a063cbf56e7ac4da" name="a0247e747e09145c3a063cbf56e7ac4da"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ASCTIME_R_BUFFER_SIZE</b>&#160;&#160;&#160;26</td></tr>
<tr class="separator:a0247e747e09145c3a063cbf56e7ac4da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12dc38a3459c09db7a0298b9f4085c8" id="r_aa12dc38a3459c09db7a0298b9f4085c8"><td class="memItemLeft" align="right" valign="top"><a id="aa12dc38a3459c09db7a0298b9f4085c8" name="aa12dc38a3459c09db7a0298b9f4085c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>web_server_asctime_r</b>&#160;&#160;&#160;asctime_r</td></tr>
<tr class="separator:aa12dc38a3459c09db7a0298b9f4085c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:afa5c90630d37c2f77e5d7985932941a0" id="r_afa5c90630d37c2f77e5d7985932941a0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa5c90630d37c2f77e5d7985932941a0">resp_type</a> { <br />
&#160;&#160;<b>RESP_FILEDOC</b>
, <b>RESP_XMLDOC</b>
, <b>RESP_HEADERS</b>
, <b>RESP_WEBDOC</b>
, <br />
&#160;&#160;<b>RESP_POST</b>
<br />
 }</td></tr>
<tr class="separator:afa5c90630d37c2f77e5d7985932941a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab9f72aa8b4db1e0c258749e89d5ab71a" id="r_ab9f72aa8b4db1e0c258749e89d5ab71a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9f72aa8b4db1e0c258749e89d5ab71a">media_list_init</a> (void)</td></tr>
<tr class="memdesc:ab9f72aa8b4db1e0c258749e89d5ab71a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes list and stores it in gMediaTypeList.  <br /></td></tr>
<tr class="separator:ab9f72aa8b4db1e0c258749e89d5ab71a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ad8cde315ec9d79cefa71618343b6f" id="r_a82ad8cde315ec9d79cefa71618343b6f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82ad8cde315ec9d79cefa71618343b6f">search_extension</a> (const char *extension, const char **con_type, const char **con_subtype)</td></tr>
<tr class="memdesc:a82ad8cde315ec9d79cefa71618343b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on the extension, returns the content type and content subtype.  <br /></td></tr>
<tr class="separator:a82ad8cde315ec9d79cefa71618343b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3098216d5a10a9ce65b47263bdc1609" id="r_ab3098216d5a10a9ce65b47263bdc1609"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3098216d5a10a9ce65b47263bdc1609">get_content_type</a> (const char *filename, <a class="el" href="UpnpFileInfo_8h.html#a0e5b0f7fd1363e710e4b47b49c91d126">UpnpFileInfo</a> *fileInfo)</td></tr>
<tr class="memdesc:ab3098216d5a10a9ce65b47263bdc1609"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on the extension, clones an XML string based on type and content subtype. If content type and sub type are not found, unknown types are used.  <br /></td></tr>
<tr class="separator:ab3098216d5a10a9ce65b47263bdc1609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3bb02fe6b5b9d2b79e273447e8d9aa1" id="r_ae3bb02fe6b5b9d2b79e273447e8d9aa1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3bb02fe6b5b9d2b79e273447e8d9aa1">glob_alias_init</a> (void)</td></tr>
<tr class="memdesc:ae3bb02fe6b5b9d2b79e273447e8d9aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the global XML document. Allocate buffers for the XML document.  <br /></td></tr>
<tr class="separator:ae3bb02fe6b5b9d2b79e273447e8d9aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a787d0ec668c42750188c11cfb4cafae7" id="r_a787d0ec668c42750188c11cfb4cafae7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a787d0ec668c42750188c11cfb4cafae7">is_valid_alias</a> (const struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *alias)</td></tr>
<tr class="memdesc:a787d0ec668c42750188c11cfb4cafae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for the validity of the XML object buffer.  <br /></td></tr>
<tr class="separator:a787d0ec668c42750188c11cfb4cafae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b177eeeef77ba9a1d6434337eb00bb" id="r_ae3b177eeeef77ba9a1d6434337eb00bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3b177eeeef77ba9a1d6434337eb00bb">alias_grab</a> (struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *alias)</td></tr>
<tr class="memdesc:ae3b177eeeef77ba9a1d6434337eb00bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the contents of the global XML document into the local output parameter.  <br /></td></tr>
<tr class="separator:ae3b177eeeef77ba9a1d6434337eb00bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d6e5d57b51048cab2f64278aa0a939" id="r_ab5d6e5d57b51048cab2f64278aa0a939"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5d6e5d57b51048cab2f64278aa0a939">alias_release</a> (struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *alias)</td></tr>
<tr class="memdesc:ab5d6e5d57b51048cab2f64278aa0a939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the XML document referred to by the input parameter. Free the allocated buffers associated with this object.  <br /></td></tr>
<tr class="separator:ab5d6e5d57b51048cab2f64278aa0a939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4514a73581ffd12c050da5ad4998da4" id="r_aa4514a73581ffd12c050da5ad4998da4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4514a73581ffd12c050da5ad4998da4">web_server_set_alias</a> (const char *alias_name, const char *alias_content, size_t alias_content_length, time_t last_modified)</td></tr>
<tr class="memdesc:aa4514a73581ffd12c050da5ad4998da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces current alias with the given alias. To remove the current alias, set alias_name to NULL.  <br /></td></tr>
<tr class="separator:aa4514a73581ffd12c050da5ad4998da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6abf771128f8ea3976c9eccdb13e4f" id="r_a4c6abf771128f8ea3976c9eccdb13e4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c6abf771128f8ea3976c9eccdb13e4f">web_server_init</a> ()</td></tr>
<tr class="memdesc:a4c6abf771128f8ea3976c9eccdb13e4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initilialize the different documents. Initialize the memory for root directory for web server. Call to initialize global XML document. Sets bWebServerState to WEB_SERVER_ENABLED.  <br /></td></tr>
<tr class="separator:a4c6abf771128f8ea3976c9eccdb13e4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924c749a7ab389c09ddcdf458db01ac5" id="r_a924c749a7ab389c09ddcdf458db01ac5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a924c749a7ab389c09ddcdf458db01ac5">web_server_destroy</a> (void)</td></tr>
<tr class="memdesc:a924c749a7ab389c09ddcdf458db01ac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release memory allocated for the global web server root directory and the global XML document. Resets the flag bWebServerState to WEB_SERVER_DISABLED.  <br /></td></tr>
<tr class="separator:a924c749a7ab389c09ddcdf458db01ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e1c4b2ee4e9b4069341eaac439de36" id="r_a40e1c4b2ee4e9b4069341eaac439de36"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40e1c4b2ee4e9b4069341eaac439de36">get_file_info</a> (const char *filename, <a class="el" href="UpnpFileInfo_8h.html#a0e5b0f7fd1363e710e4b47b49c91d126">UpnpFileInfo</a> *info)</td></tr>
<tr class="memdesc:a40e1c4b2ee4e9b4069341eaac439de36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release memory allocated for the global web server root directory and the global XML document. Resets the flag bWebServerState to WEB_SERVER_DISABLED.  <br /></td></tr>
<tr class="separator:a40e1c4b2ee4e9b4069341eaac439de36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d275509109519a4ab1be27105d7434b" id="r_a6d275509109519a4ab1be27105d7434b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d275509109519a4ab1be27105d7434b">web_server_set_root_dir</a> (const char *root_dir)</td></tr>
<tr class="memdesc:a6d275509109519a4ab1be27105d7434b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign the path specfied by the input const char* root_dir parameter to the global Document root directory. Also check for path names ending in '/'.  <br /></td></tr>
<tr class="separator:a6d275509109519a4ab1be27105d7434b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79547e6f393a899ed672f70f22d8d71b" id="r_a79547e6f393a899ed672f70f22d8d71b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79547e6f393a899ed672f70f22d8d71b">get_alias</a> (const char *request_file, struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *alias, <a class="el" href="UpnpFileInfo_8h.html#a0e5b0f7fd1363e710e4b47b49c91d126">UpnpFileInfo</a> *info)</td></tr>
<tr class="memdesc:a79547e6f393a899ed672f70f22d8d71b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the files names between the one on the XML alias the one passed in as the input parameter. If equal extract file information.  <br /></td></tr>
<tr class="separator:a79547e6f393a899ed672f70f22d8d71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd503500ae952933ca26e859a220fed" id="r_a7dd503500ae952933ca26e859a220fed"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dd503500ae952933ca26e859a220fed">isFileInVirtualDir</a> (char *filePath, const void **cookie)</td></tr>
<tr class="memdesc:a7dd503500ae952933ca26e859a220fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares filePath with paths from the list of virtual directory lists.  <br /></td></tr>
<tr class="separator:a7dd503500ae952933ca26e859a220fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dcd890b1c129436c8da11133a94974b" id="r_a7dcd890b1c129436c8da11133a94974b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dcd890b1c129436c8da11133a94974b">ToUpperCase</a> (char *s)</td></tr>
<tr class="memdesc:a7dcd890b1c129436c8da11133a94974b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts input string to upper case.  <br /></td></tr>
<tr class="separator:a7dcd890b1c129436c8da11133a94974b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac400821e233b57570c6adf582d7f00dc" id="r_ac400821e233b57570c6adf582d7f00dc"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac400821e233b57570c6adf582d7f00dc">StrStr</a> (char *s1, const char *s2)</td></tr>
<tr class="memdesc:ac400821e233b57570c6adf582d7f00dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a substring from a string in a case insensitive way.  <br /></td></tr>
<tr class="separator:ac400821e233b57570c6adf582d7f00dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad511c6cb01a5c9c3addbfe063945e4bb" id="r_ad511c6cb01a5c9c3addbfe063945e4bb"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad511c6cb01a5c9c3addbfe063945e4bb">StrTok</a> (char **Src, const char *Del)</td></tr>
<tr class="memdesc:ad511c6cb01a5c9c3addbfe063945e4bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds next token in a string.  <br /></td></tr>
<tr class="separator:ad511c6cb01a5c9c3addbfe063945e4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ec8770ed2b9b6687d21d3268fde480" id="r_a89ec8770ed2b9b6687d21d3268fde480"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89ec8770ed2b9b6687d21d3268fde480">GetNextRange</a> (char **SrcRangeStr, off_t *FirstByte, off_t *LastByte)</td></tr>
<tr class="memdesc:a89ec8770ed2b9b6687d21d3268fde480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a range of integers from a string.  <br /></td></tr>
<tr class="separator:a89ec8770ed2b9b6687d21d3268fde480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57783648833263d20cd4452633cb732" id="r_ae57783648833263d20cd4452633cb732"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae57783648833263d20cd4452633cb732">CreateHTTPRangeResponseHeader</a> (char *ByteRangeSpecifier, off_t FileLength, struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *Instr)</td></tr>
<tr class="memdesc:ae57783648833263d20cd4452633cb732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills in the Offset, read size and contents to send out as an HTTP Range Response.  <br /></td></tr>
<tr class="separator:ae57783648833263d20cd4452633cb732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d48e5b2efad9ef82773ad5649dcd80e" id="r_a1d48e5b2efad9ef82773ad5649dcd80e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d48e5b2efad9ef82773ad5649dcd80e">CheckOtherHTTPHeaders</a> (<a class="el" href="structhttp__message__t.html">http_message_t</a> *Req, struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *RespInstr, off_t FileSize)</td></tr>
<tr class="memdesc:a1d48e5b2efad9ef82773ad5649dcd80e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get header id from the request parameter and take appropriate action based on the ids as an HTTP Range Response.  <br /></td></tr>
<tr class="separator:a1d48e5b2efad9ef82773ad5649dcd80e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a88f4abfeb91315df259cd199627a07" id="r_a0a88f4abfeb91315df259cd199627a07"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a88f4abfeb91315df259cd199627a07">FreeExtraHTTPHeaders</a> (<a class="el" href="structUpnpListHead.html">UpnpListHead</a> *extraHeadersList)</td></tr>
<tr class="separator:a0a88f4abfeb91315df259cd199627a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70aeaf20f64340e488f945775bcbb710" id="r_a70aeaf20f64340e488f945775bcbb710"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70aeaf20f64340e488f945775bcbb710">ExtraHTTPHeaders</a> (<a class="el" href="structhttp__message__t.html">http_message_t</a> *Req, <a class="el" href="structUpnpListHead.html">UpnpListHead</a> *extraHeadersList)</td></tr>
<tr class="memdesc:a70aeaf20f64340e488f945775bcbb710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build an array of unrecognized headers.  <br /></td></tr>
<tr class="separator:a70aeaf20f64340e488f945775bcbb710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77c3477be2c345c63540e6a1529e290" id="r_ae77c3477be2c345c63540e6a1529e290"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request</a> (<a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info, <a class="el" href="structhttp__message__t.html">http_message_t</a> *req, enum <a class="el" href="#afa5c90630d37c2f77e5d7985932941a0">resp_type</a> *rtype, <a class="el" href="structmembuffer.html">membuffer</a> *headers, <a class="el" href="structmembuffer.html">membuffer</a> *filename, struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *alias, struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *RespInstr)</td></tr>
<tr class="memdesc:ae77c3477be2c345c63540e6a1529e290"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the request and returns the result in the output parameters.  <br /></td></tr>
<tr class="separator:ae77c3477be2c345c63540e6a1529e290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac133fc88fc4e39ba3dd0d6ed46841eaf" id="r_ac133fc88fc4e39ba3dd0d6ed46841eaf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac133fc88fc4e39ba3dd0d6ed46841eaf">http_RecvPostMessage</a> (<a class="el" href="structhttp__parser__t.html">http_parser_t</a> *parser, <a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info, char *filename, struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *Instr)</td></tr>
<tr class="memdesc:ac133fc88fc4e39ba3dd0d6ed46841eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives the HTTP post message.  <br /></td></tr>
<tr class="separator:ac133fc88fc4e39ba3dd0d6ed46841eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb77fc2cfdf0dfbd97e5b3880c4b18d1" id="r_abb77fc2cfdf0dfbd97e5b3880c4b18d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb77fc2cfdf0dfbd97e5b3880c4b18d1">web_server_callback</a> (<a class="el" href="structhttp__parser__t.html">http_parser_t</a> *parser, <a class="el" href="structhttp__message__t.html">http_message_t</a> *req, <a class="el" href="structSOCKINFO.html">SOCKINFO</a> *info)</td></tr>
<tr class="memdesc:abb77fc2cfdf0dfbd97e5b3880c4b18d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main entry point into web server; Handles HTTP GET and HEAD requests.  <br /></td></tr>
<tr class="separator:abb77fc2cfdf0dfbd97e5b3880c4b18d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a178626e0767b0310d893759c33a88039" id="r_a178626e0767b0310d893759c33a88039"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a178626e0767b0310d893759c33a88039">gMediaTypes</a> []</td></tr>
<tr class="separator:a178626e0767b0310d893759c33a88039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3065b4b7f00696b04075db046644d477" id="r_a3065b4b7f00696b04075db046644d477"><td class="memItemLeft" align="right" valign="top"><a id="a3065b4b7f00696b04075db046644d477" name="a3065b4b7f00696b04075db046644d477"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><b>gEncodedMediaTypes</b></td></tr>
<tr class="separator:a3065b4b7f00696b04075db046644d477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c15665f35d4fefc9ae65c8bea905141" id="r_a6c15665f35d4fefc9ae65c8bea905141"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdocument__type__t.html">document_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c15665f35d4fefc9ae65c8bea905141">gMediaTypeList</a> [70]</td></tr>
<tr class="separator:a6c15665f35d4fefc9ae65c8bea905141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27edf910202d9fb95a131e851cf2217d" id="r_ga27edf910202d9fb95a131e851cf2217d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmembuffer.html">membuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__UPnPAPI.html#ga27edf910202d9fb95a131e851cf2217d">gDocumentRootDir</a></td></tr>
<tr class="separator:ga27edf910202d9fb95a131e851cf2217d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ec1e6e6681b0e7da2a3da8a7c44bc8" id="r_a87ec1e6e6681b0e7da2a3da8a7c44bc8"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87ec1e6e6681b0e7da2a3da8a7c44bc8">gAliasDoc</a></td></tr>
<tr class="separator:a87ec1e6e6681b0e7da2a3da8a7c44bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c74f97184f78e9345ab16e3d5ee550" id="r_ae9c74f97184f78e9345ab16e3d5ee550"><td class="memItemLeft" align="right" valign="top"><a id="ae9c74f97184f78e9345ab16e3d5ee550" name="ae9c74f97184f78e9345ab16e3d5ee550"></a>
static ithread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>gWebMutex</b></td></tr>
<tr class="separator:ae9c74f97184f78e9345ab16e3d5ee550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cdac8070101856240ca2d09a5662e5" id="r_a11cdac8070101856240ca2d09a5662e5"><td class="memItemLeft" align="right" valign="top"><a id="a11cdac8070101856240ca2d09a5662e5" name="a11cdac8070101856240ca2d09a5662e5"></a>
<a class="el" href="structstr__int__entry.html">str_int_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Http_Header_Names</b> [33]</td></tr>
<tr class="separator:a11cdac8070101856240ca2d09a5662e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the Web Server and has functions to carry out operations of the Web Server. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="afa5c90630d37c2f77e5d7985932941a0" name="afa5c90630d37c2f77e5d7985932941a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5c90630d37c2f77e5d7985932941a0">&#9670;&#160;</a></span>resp_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#afa5c90630d37c2f77e5d7985932941a0">resp_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Response Types. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae3b177eeeef77ba9a1d6434337eb00bb" name="ae3b177eeeef77ba9a1d6434337eb00bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b177eeeef77ba9a1d6434337eb00bb">&#9670;&#160;</a></span>alias_grab()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void alias_grab </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *</td>          <td class="paramname"><span class="paramname"><em>alias</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy the contents of the global XML document into the local output parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">alias</td><td>XML alias object. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structxml__alias__t.html#a85b7169ffc7e7efaf8b97434c7c8e6e9">xml_alias_t::ct</a>, <a class="el" href="#a87ec1e6e6681b0e7da2a3da8a7c44bc8">gAliasDoc</a>, and <a class="el" href="#a787d0ec668c42750188c11cfb4cafae7">is_valid_alias()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="ab5d6e5d57b51048cab2f64278aa0a939" name="ab5d6e5d57b51048cab2f64278aa0a939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d6e5d57b51048cab2f64278aa0a939">&#9670;&#160;</a></span>alias_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void alias_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *</td>          <td class="paramname"><span class="paramname"><em>alias</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release the XML document referred to by the input parameter. Free the allocated buffers associated with this object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">alias</td><td>XML alias object. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structxml__alias__t.html#a85b7169ffc7e7efaf8b97434c7c8e6e9">xml_alias_t::ct</a>, <a class="el" href="structxml__alias__t.html#aefc1d2681af6ba48468f4960f5952864">xml_alias_t::doc</a>, <a class="el" href="#a787d0ec668c42750188c11cfb4cafae7">is_valid_alias()</a>, and <a class="el" href="structxml__alias__t.html#ac2da478b8e52e45fe5e834306a2a4711">xml_alias_t::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>, <a class="el" href="#abb77fc2cfdf0dfbd97e5b3880c4b18d1">web_server_callback()</a>, <a class="el" href="#a924c749a7ab389c09ddcdf458db01ac5">web_server_destroy()</a>, and <a class="el" href="#aa4514a73581ffd12c050da5ad4998da4">web_server_set_alias()</a>.</p>

</div>
</div>
<a id="a1d48e5b2efad9ef82773ad5649dcd80e" name="a1d48e5b2efad9ef82773ad5649dcd80e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d48e5b2efad9ef82773ad5649dcd80e">&#9670;&#160;</a></span>CheckOtherHTTPHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int CheckOtherHTTPHeaders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>Req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *</td>          <td class="paramname"><span class="paramname"><em>RespInstr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t</td>          <td class="paramname"><span class="paramname"><em>FileSize</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get header id from the request parameter and take appropriate action based on the ids as an HTTP Range Response. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>HTTP_BAD_REQUEST</code> </li>
<li><code>HTTP_INTERNAL_SERVER_ERROR</code> </li>
<li><code>HTTP_REQUEST_RANGE_NOT_SATISFIABLE</code> </li>
<li><code>HTTP_OK</code> </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Req</td><td>HTTP Request message.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RespInstr</td><td>Send Instruction object to data for the response.  </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">FileSize</td><td>Size of the file containing the request document. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structmemptr.html#ae3089c9df96fc059185fec2d6bed61aa">memptr::buf</a>, <a class="el" href="#ae57783648833263d20cd4452633cb732">CreateHTTPRangeResponseHeader()</a>, <a class="el" href="structhttp__message__t.html#ad25a924f2f27dc1000fc080fe408a0c1">http_message_t::headers</a>, <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, <a class="el" href="structhttp__header__t.html#a39ccc6b29221ffaf48476329eb43b00c">http_header_t::name</a>, <a class="el" href="structSendInstruction.html#a6a055ef77fd2e151a6afc2306b6195dd">SendInstruction::RecvWriteSize</a>, <a class="el" href="#ac400821e233b57570c6adf582d7f00dc">StrStr()</a>, and <a class="el" href="structhttp__header__t.html#a6a05e8e1ea8ad4f889d635b469dc53ee">http_header_t::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="ae57783648833263d20cd4452633cb732" name="ae57783648833263d20cd4452633cb732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57783648833263d20cd4452633cb732">&#9670;&#160;</a></span>CreateHTTPRangeResponseHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int CreateHTTPRangeResponseHeader </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>ByteRangeSpecifier</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t</td>          <td class="paramname"><span class="paramname"><em>FileLength</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *</td>          <td class="paramname"><span class="paramname"><em>Instr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills in the Offset, read size and contents to send out as an HTTP Range Response. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>HTTP_BAD_REQUEST</code> </li>
<li><code>HTTP_INTERNAL_SERVER_ERROR</code> </li>
<li><code>HTTP_REQUEST_RANGE_NOT_SATISFIABLE</code> </li>
<li><code>HTTP_OK</code> </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ByteRangeSpecifier</td><td>String containing the range.  </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">FileLength</td><td>Length of the file.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Instr</td><td><a class="el" href="structSendInstruction.html">SendInstruction</a> object where the range operations will be stored. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a89ec8770ed2b9b6687d21d3268fde480">GetNextRange()</a>, <a class="el" href="structSendInstruction.html#a7779491801eea9576d19957ea1e778ba">SendInstruction::ReadSendSize</a>, and <a class="el" href="#ac400821e233b57570c6adf582d7f00dc">StrStr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a1d48e5b2efad9ef82773ad5649dcd80e">CheckOtherHTTPHeaders()</a>.</p>

</div>
</div>
<a id="a70aeaf20f64340e488f945775bcbb710" name="a70aeaf20f64340e488f945775bcbb710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70aeaf20f64340e488f945775bcbb710">&#9670;&#160;</a></span>ExtraHTTPHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ExtraHTTPHeaders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>Req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structUpnpListHead.html">UpnpListHead</a> *</td>          <td class="paramname"><span class="paramname"><em>extraHeadersList</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build an array of unrecognized headers. </p>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Req</td><td>HTTP Request message. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structmemptr.html#ae3089c9df96fc059185fec2d6bed61aa">memptr::buf</a>, <a class="el" href="#a0a88f4abfeb91315df259cd199627a07">FreeExtraHTTPHeaders()</a>, <a class="el" href="structhttp__message__t.html#ad25a924f2f27dc1000fc080fe408a0c1">http_message_t::headers</a>, <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, <a class="el" href="structhttp__header__t.html#a39ccc6b29221ffaf48476329eb43b00c">http_header_t::name</a>, <a class="el" href="UpnpExtraHeaders_8h.html#a7e8084f8b1ad34db39030a736e05c974">UpnpExtraHeaders_get_node()</a>, <a class="el" href="UpnpExtraHeaders_8h.html#a4654fcbbd9b882100e25453af2950456">UpnpExtraHeaders_new()</a>, <a class="el" href="UpnpExtraHeaders_8h.html#af73e2e53973503fa1a9bbda322d609f9">UpnpExtraHeaders_strncpy_name()</a>, <a class="el" href="UpnpExtraHeaders_8h.html#abce00101ec59dcd7c90497c2e7233119">UpnpExtraHeaders_strncpy_value()</a>, and <a class="el" href="structhttp__header__t.html#a6a05e8e1ea8ad4f889d635b469dc53ee">http_header_t::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="a0a88f4abfeb91315df259cd199627a07" name="a0a88f4abfeb91315df259cd199627a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a88f4abfeb91315df259cd199627a07">&#9670;&#160;</a></span>FreeExtraHTTPHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FreeExtraHTTPHeaders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUpnpListHead.html">UpnpListHead</a> *</td>          <td class="paramname"><span class="paramname"><em>extraHeadersList</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">extraHeadersList</td><td>extra HTTP headers to free. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="UpnpExtraHeaders_8h.html#a07c8ea68a8f2e33180d2dc7afd462376">UpnpExtraHeaders_delete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a70aeaf20f64340e488f945775bcbb710">ExtraHTTPHeaders()</a>, and <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="a79547e6f393a899ed672f70f22d8d71b" name="a79547e6f393a899ed672f70f22d8d71b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79547e6f393a899ed672f70f22d8d71b">&#9670;&#160;</a></span>get_alias()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int get_alias </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>request_file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *</td>          <td class="paramname"><span class="paramname"><em>alias</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="UpnpFileInfo_8h.html#a0e5b0f7fd1363e710e4b47b49c91d126">UpnpFileInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare the files names between the one on the XML alias the one passed in as the input parameter. If equal extract file information. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>1</code> - On Success </li>
<li><code>0</code> if request is not an alias </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request_file</td><td>request file passed in to be compared with.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">alias</td><td>xml alias object which has a file name stored.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">info</td><td>File information object which will be filled up if the file comparison succeeds. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structxml__alias__t.html#aefc1d2681af6ba48468f4960f5952864">xml_alias_t::doc</a>, <a class="el" href="structxml__alias__t.html#a01fd2b7b320f58200bef78a62cb4504e">xml_alias_t::last_modified</a>, <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>, <a class="el" href="structxml__alias__t.html#ac2da478b8e52e45fe5e834306a2a4711">xml_alias_t::name</a>, <a class="el" href="UpnpFileInfo_8h.html#a7199a144c596f18960b5be5ad4393514">UpnpFileInfo_set_FileLength()</a>, <a class="el" href="UpnpFileInfo_8h.html#a2267585986dd4f52382c761fbc68f312">UpnpFileInfo_set_IsDirectory()</a>, <a class="el" href="UpnpFileInfo_8h.html#aeba9fa8ab52f4d524744789522766109">UpnpFileInfo_set_IsReadable()</a>, and <a class="el" href="UpnpFileInfo_8h.html#a29dc896ad2d56c765904573694e68212">UpnpFileInfo_set_LastModified()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="ab3098216d5a10a9ce65b47263bdc1609" name="ab3098216d5a10a9ce65b47263bdc1609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3098216d5a10a9ce65b47263bdc1609">&#9670;&#160;</a></span>get_content_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int get_content_type </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="UpnpFileInfo_8h.html#a0e5b0f7fd1363e710e4b47b49c91d126">UpnpFileInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>fileInfo</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Based on the extension, clones an XML string based on type and content subtype. If content type and sub type are not found, unknown types are used. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code> on success. </li>
<li><code>UPNP_E_OUTOF_MEMORY</code> - on memory allocation failures. </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fileInfo</td><td>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a82ad8cde315ec9d79cefa71618343b6f">search_extension()</a>, <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>, <a class="el" href="UpnpFileInfo_8h.html#a696978fd27f314992b4bf33d4ffe5fb3">UpnpFileInfo_get_ContentType()</a>, and <a class="el" href="UpnpFileInfo_8h.html#a7524c9edad2266425f46231128592c2f">UpnpFileInfo_set_ContentType()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a40e1c4b2ee4e9b4069341eaac439de36">get_file_info()</a>.</p>

</div>
</div>
<a id="a40e1c4b2ee4e9b4069341eaac439de36" name="a40e1c4b2ee4e9b4069341eaac439de36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e1c4b2ee4e9b4069341eaac439de36">&#9670;&#160;</a></span>get_file_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_file_info </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="UpnpFileInfo_8h.html#a0e5b0f7fd1363e710e4b47b49c91d126">UpnpFileInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release memory allocated for the global web server root directory and the global XML document. Resets the flag bWebServerState to WEB_SERVER_DISABLED. </p>
<dl class="section return"><dt>Returns</dt><dd>Integer. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Filename having the description document.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">info</td><td>File information object having file attributes such as filelength, when was the file last modified, whether a file or a directory and whether the file or directory is readable. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#ab3098216d5a10a9ce65b47263bdc1609">get_content_type()</a>, <a class="el" href="UpnpFileInfo_8h.html#a5e35da7e954ab5ff7fcd44ea37fcd9c7">UpnpFileInfo_get_FileLength()</a>, <a class="el" href="UpnpFileInfo_8h.html#a3b4513343da61dc94c15e82cac61658f">UpnpFileInfo_get_IsReadable()</a>, <a class="el" href="UpnpFileInfo_8h.html#a6683f66989e0c4579d124a440f7b96ed">UpnpFileInfo_get_LastModified()</a>, <a class="el" href="UpnpFileInfo_8h.html#a7524c9edad2266425f46231128592c2f">UpnpFileInfo_set_ContentType()</a>, <a class="el" href="UpnpFileInfo_8h.html#a7199a144c596f18960b5be5ad4393514">UpnpFileInfo_set_FileLength()</a>, <a class="el" href="UpnpFileInfo_8h.html#a2267585986dd4f52382c761fbc68f312">UpnpFileInfo_set_IsDirectory()</a>, <a class="el" href="UpnpFileInfo_8h.html#aeba9fa8ab52f4d524744789522766109">UpnpFileInfo_set_IsReadable()</a>, <a class="el" href="UpnpFileInfo_8h.html#a29dc896ad2d56c765904573694e68212">UpnpFileInfo_set_LastModified()</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="a89ec8770ed2b9b6687d21d3268fde480" name="a89ec8770ed2b9b6687d21d3268fde480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89ec8770ed2b9b6687d21d3268fde480">&#9670;&#160;</a></span>GetNextRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int GetNextRange </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>SrcRangeStr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *</td>          <td class="paramname"><span class="paramname"><em>FirstByte</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *</td>          <td class="paramname"><span class="paramname"><em>LastByte</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a range of integers from a string. </p>
<dl class="section return"><dt>Returns</dt><dd>Always returns 1. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SrcRangeStr</td><td>string containing the token / range.  </td></tr>
    <tr><td class="paramname">FirstByte</td><td>gets the first byte of the token.  </td></tr>
    <tr><td class="paramname">LastByte</td><td>gets the last byte of the token. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#ad511c6cb01a5c9c3addbfe063945e4bb">StrTok()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae57783648833263d20cd4452633cb732">CreateHTTPRangeResponseHeader()</a>.</p>

</div>
</div>
<a id="ae3bb02fe6b5b9d2b79e273447e8d9aa1" name="ae3bb02fe6b5b9d2b79e273447e8d9aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3bb02fe6b5b9d2b79e273447e8d9aa1">&#9670;&#160;</a></span>glob_alias_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> void glob_alias_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the global XML document. Allocate buffers for the XML document. </p>

<p class="reference">References <a class="el" href="structxml__alias__t.html#a85b7169ffc7e7efaf8b97434c7c8e6e9">xml_alias_t::ct</a>, <a class="el" href="structxml__alias__t.html#aefc1d2681af6ba48468f4960f5952864">xml_alias_t::doc</a>, <a class="el" href="#a87ec1e6e6681b0e7da2a3da8a7c44bc8">gAliasDoc</a>, <a class="el" href="structxml__alias__t.html#a01fd2b7b320f58200bef78a62cb4504e">xml_alias_t::last_modified</a>, and <a class="el" href="structxml__alias__t.html#ac2da478b8e52e45fe5e834306a2a4711">xml_alias_t::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a4c6abf771128f8ea3976c9eccdb13e4f">web_server_init()</a>.</p>

</div>
</div>
<a id="ac133fc88fc4e39ba3dd0d6ed46841eaf" name="ac133fc88fc4e39ba3dd0d6ed46841eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac133fc88fc4e39ba3dd0d6ed46841eaf">&#9670;&#160;</a></span>http_RecvPostMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int http_RecvPostMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhttp__parser__t.html">http_parser_t</a> *</td>          <td class="paramname"><span class="paramname"><em>parser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *</td>          <td class="paramname"><span class="paramname"><em>Instr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receives the HTTP post message. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>HTTP_INTERNAL_SERVER_ERROR</code> </li>
<li><code>HTTP_UNAUTHORIZED</code> </li>
<li><code>HTTP_BAD_REQUEST</code> </li>
<li><code>HTTP_SERVICE_UNAVAILABLE</code> </li>
<li><code>HTTP_OK</code> </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">parser</td><td>HTTP Parser object.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Socket Information object.  </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">filename</td><td>File where received data is copied to.  </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">Instr</td><td>Send Instruction object which gives information whether the file is a virtual file or not. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structVirtualDirCallbacks.html#a899329f83782984f3da347df5f3d8ca8">VirtualDirCallbacks::close</a>, <a class="el" href="structSendInstruction.html#ac1b0dd357897b6bdd84be8fb78585323">SendInstruction::Cookie</a>, <a class="el" href="structhttp__message__t.html#a55fe88fcfc0ffc5c0967c0db2c082f19">http_message_t::entity</a>, <a class="el" href="structhttp__parser__t.html#aeb959ba1bd2245e16ff4b722199d6ff2">http_parser_t::entity_start_position</a>, <a class="el" href="structhttp__parser__t.html#a76839ca93d37b8bc1bbfed9c4a641a9e">http_parser_t::http_error_code</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, <a class="el" href="structhttp__message__t.html#a755470277c80a2a1fed7a3993b3996ec">http_message_t::msg</a>, <a class="el" href="structVirtualDirCallbacks.html#a4c883b1191946a96a03e9609a4ca9885">VirtualDirCallbacks::open</a>, <a class="el" href="httpparser_8h.html#aaec739c6f0ff93b139062af2ba4b0f1dafa49a399f330e793f8b8d6a7c5a05bec">PARSE_CONTINUE_1</a>, <a class="el" href="httpparser_8h.html#aaec739c6f0ff93b139062af2ba4b0f1da5900ec47943a7136371702edb225d4a3">PARSE_INCOMPLETE</a>, <a class="el" href="httpparser_8h.html#aaec739c6f0ff93b139062af2ba4b0f1da952f16db1d3b76fc3ce841a7ca836de6">PARSE_INCOMPLETE_ENTITY</a>, <a class="el" href="httpparser_8h.html#aaec739c6f0ff93b139062af2ba4b0f1dac6100102562753aa9aa43bd7885baa6e">PARSE_OK</a>, <a class="el" href="httpparser_8h.html#aaec739c6f0ff93b139062af2ba4b0f1da9674022bcca440239f8c53bcbd4101a0">PARSE_SUCCESS</a>, <a class="el" href="structSendInstruction.html#a7edd1d50cc56be53dddbf790b8fab0a2">SendInstruction::RequestCookie</a>, <a class="el" href="group__Sock.html#ga67327112f31ca0951ead535866375389">sock_read()</a>, <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>, <a class="el" href="group__UPnPAPI.html#ga24983ed57bf9c82a82e0dc3daeaca538">virtualDirCallback</a>, and <a class="el" href="structVirtualDirCallbacks.html#a8deb56db69743da06dd9603aa2285b71">VirtualDirCallbacks::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="#abb77fc2cfdf0dfbd97e5b3880c4b18d1">web_server_callback()</a>.</p>

</div>
</div>
<a id="a787d0ec668c42750188c11cfb4cafae7" name="a787d0ec668c42750188c11cfb4cafae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a787d0ec668c42750188c11cfb4cafae7">&#9670;&#160;</a></span>is_valid_alias()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int is_valid_alias </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *</td>          <td class="paramname"><span class="paramname"><em>alias</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check for the validity of the XML object buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>int. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">alias</td><td>XML alias object. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, and <a class="el" href="structxml__alias__t.html#aefc1d2681af6ba48468f4960f5952864">xml_alias_t::doc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae3b177eeeef77ba9a1d6434337eb00bb">alias_grab()</a>, <a class="el" href="#ab5d6e5d57b51048cab2f64278aa0a939">alias_release()</a>, and <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="a7dd503500ae952933ca26e859a220fed" name="a7dd503500ae952933ca26e859a220fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd503500ae952933ca26e859a220fed">&#9670;&#160;</a></span>isFileInVirtualDir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int isFileInVirtualDir </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>filePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **</td>          <td class="paramname"><span class="paramname"><em>cookie</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compares filePath with paths from the list of virtual directory lists. </p>
<dl class="section return"><dt>Returns</dt><dd>int. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filePath</td><td>Directory path to be tested for virtual directory.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cookie</td><td>The cookie registered with this virtual directory, if matched. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__UPnPAPI.html#ga85ec286c63778e7aa2c8013917312713">pVirtualDirList</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>.</p>

</div>
</div>
<a id="ab9f72aa8b4db1e0c258749e89d5ab71a" name="ab9f72aa8b4db1e0c258749e89d5ab71a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f72aa8b4db1e0c258749e89d5ab71a">&#9670;&#160;</a></span>media_list_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> void media_list_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decodes list and stores it in gMediaTypeList. </p>

<p class="reference">References <a class="el" href="structdocument__type__t.html#aeffde6a992fe3b838dc6c535a3b50339">document_type_t::content_subtype</a>, <a class="el" href="structdocument__type__t.html#a44694cfb91c97d9846a565970e36adb7">document_type_t::content_type</a>, <a class="el" href="structdocument__type__t.html#a8768dd9b9138cb41b94760edeacbd910">document_type_t::file_ext</a>, and <a class="el" href="#a6c15665f35d4fefc9ae65c8bea905141">gMediaTypeList</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a4c6abf771128f8ea3976c9eccdb13e4f">web_server_init()</a>.</p>

</div>
</div>
<a id="ae77c3477be2c345c63540e6a1529e290" name="ae77c3477be2c345c63540e6a1529e290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae77c3477be2c345c63540e6a1529e290">&#9670;&#160;</a></span>process_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int process_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#afa5c90630d37c2f77e5d7985932941a0">resp_type</a> *</td>          <td class="paramname"><span class="paramname"><em>rtype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmembuffer.html">membuffer</a> *</td>          <td class="paramname"><span class="paramname"><em>headers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmembuffer.html">membuffer</a> *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> *</td>          <td class="paramname"><span class="paramname"><em>alias</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSendInstruction.html">SendInstruction</a> *</td>          <td class="paramname"><span class="paramname"><em>RespInstr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes the request and returns the result in the output parameters. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>HTTP_BAD_REQUEST</code> </li>
<li><code>HTTP_INTERNAL_SERVER_ERROR</code> </li>
<li><code>HTTP_REQUEST_RANGE_NOT_SATISFIABLE</code> </li>
<li><code>HTTP_FORBIDDEN</code> </li>
<li><code>HTTP_NOT_FOUND</code> </li>
<li><code>HTTP_NOT_ACCEPTABLE</code> </li>
<li><code>HTTP_OK</code> </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Socket info.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req</td><td>HTTP Request message.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rtype</td><td>Tpye of response.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">headers</td><td>Headers.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">filename</td><td>Get filename from request document.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">alias</td><td>Xml alias document from the request document.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RespInstr</td><td>Send Instruction object where the response is set up. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#ae3b177eeeef77ba9a1d6434337eb00bb">alias_grab()</a>, <a class="el" href="#ab5d6e5d57b51048cab2f64278aa0a939">alias_release()</a>, <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structmemptr.html#ae3089c9df96fc059185fec2d6bed61aa">memptr::buf</a>, <a class="el" href="#a1d48e5b2efad9ef82773ad5649dcd80e">CheckOtherHTTPHeaders()</a>, <a class="el" href="structSendInstruction.html#ac1b0dd357897b6bdd84be8fb78585323">SendInstruction::Cookie</a>, <a class="el" href="#a70aeaf20f64340e488f945775bcbb710">ExtraHTTPHeaders()</a>, <a class="el" href="group__Sock.html#ga09b419e449f44f696e6fb3596c8a3b0a">SOCKINFO::foreign_sockaddr</a>, <a class="el" href="#a0a88f4abfeb91315df259cd199627a07">FreeExtraHTTPHeaders()</a>, <a class="el" href="#a87ec1e6e6681b0e7da2a3da8a7c44bc8">gAliasDoc</a>, <a class="el" href="group__UPnPAPI.html#ga27edf910202d9fb95a131e851cf2217d">gDocumentRootDir</a>, <a class="el" href="#a79547e6f393a899ed672f70f22d8d71b">get_alias()</a>, <a class="el" href="#a40e1c4b2ee4e9b4069341eaac439de36">get_file_info()</a>, <a class="el" href="structVirtualDirCallbacks.html#ab859814466dd27df66e23489aa039f2d">VirtualDirCallbacks::get_info</a>, <a class="el" href="httpreadwrite_8c.html#af5981cc2f7cc76c3e6b6700c5f27c472">http_MakeMessage()</a>, <a class="el" href="#a787d0ec668c42750188c11cfb4cafae7">is_valid_alias()</a>, <a class="el" href="#a7dd503500ae952933ca26e859a220fed">isFileInVirtualDir()</a>, <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>, <a class="el" href="structmemptr.html#acaa22842001c377190f4dba6d54430ff">memptr::length</a>, <a class="el" href="structhttp__message__t.html#a226234f2adefb0980a78b004f927c852">http_message_t::method</a>, <a class="el" href="structSendInstruction.html#a7779491801eea9576d19957ea1e778ba">SendInstruction::ReadSendSize</a>, <a class="el" href="uri_8c.html#a259b5aed5805a1f66475a483a201f587">remove_dots()</a>, <a class="el" href="uri_8c.html#aae107675e9be7b49d54ec682d8ca6cda">remove_escaped_chars()</a>, <a class="el" href="structSendInstruction.html#a7edd1d50cc56be53dddbf790b8fab0a2">SendInstruction::RequestCookie</a>, <a class="el" href="group__UPnPAPI.html#ga8496dde0ca68f0cd92b58db8563b73b7">UPNP_E_SUCCESS</a>, <a class="el" href="UpnpFileInfo_8h.html#aafcf9675b3b9c649e5838aff95adfecc">UpnpFileInfo_delete()</a>, <a class="el" href="UpnpFileInfo_8h.html#a696978fd27f314992b4bf33d4ffe5fb3">UpnpFileInfo_get_ContentType()</a>, <a class="el" href="UpnpFileInfo_8h.html#a69bb50f66e38066014a00421089640ce">UpnpFileInfo_get_ExtraHeadersList()</a>, <a class="el" href="UpnpFileInfo_8h.html#a5e35da7e954ab5ff7fcd44ea37fcd9c7">UpnpFileInfo_get_FileLength()</a>, <a class="el" href="UpnpFileInfo_8h.html#a6c0ca853b89f859a6b03668529588030">UpnpFileInfo_get_IsDirectory()</a>, <a class="el" href="UpnpFileInfo_8h.html#a3b4513343da61dc94c15e82cac61658f">UpnpFileInfo_get_IsReadable()</a>, <a class="el" href="UpnpFileInfo_8h.html#a6683f66989e0c4579d124a440f7b96ed">UpnpFileInfo_get_LastModified()</a>, <a class="el" href="UpnpFileInfo_8h.html#a8d6b6ce6c9ba97da2e6dd90786119a92">UpnpFileInfo_new()</a>, <a class="el" href="UpnpFileInfo_8h.html#a7524c9edad2266425f46231128592c2f">UpnpFileInfo_set_ContentType()</a>, <a class="el" href="UpnpFileInfo_8h.html#a2e31afca44e0ff05cb0af860524d3374">UpnpFileInfo_set_CtrlPtIPAddr()</a>, <a class="el" href="UpnpFileInfo_8h.html#ad1d64a519a9f3aea2d75610ebd755a0b">UpnpFileInfo_strncpy_Os()</a>, <a class="el" href="structhttp__message__t.html#a13c130c56a7461ec81a060deb0764164">http_message_t::uri</a>, and <a class="el" href="group__UPnPAPI.html#ga24983ed57bf9c82a82e0dc3daeaca538">virtualDirCallback</a>.</p>

<p class="reference">Referenced by <a class="el" href="#abb77fc2cfdf0dfbd97e5b3880c4b18d1">web_server_callback()</a>.</p>

</div>
</div>
<a id="a82ad8cde315ec9d79cefa71618343b6f" name="a82ad8cde315ec9d79cefa71618343b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ad8cde315ec9d79cefa71618343b6f">&#9670;&#160;</a></span>search_extension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="UpnpGlobal_8h.html#aeecd12a6454cebddf6288c822d09422d">UPNP_INLINE</a> int search_extension </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>extension</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>con_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>con_subtype</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Based on the extension, returns the content type and content subtype. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code> on success </li>
<li><code>-1</code> on error </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">extension</td><td>.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">con_type</td><td>.  </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">con_subtype</td><td>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structdocument__type__t.html#aeffde6a992fe3b838dc6c535a3b50339">document_type_t::content_subtype</a>, <a class="el" href="structdocument__type__t.html#a44694cfb91c97d9846a565970e36adb7">document_type_t::content_type</a>, <a class="el" href="structdocument__type__t.html#a8768dd9b9138cb41b94760edeacbd910">document_type_t::file_ext</a>, and <a class="el" href="#a6c15665f35d4fefc9ae65c8bea905141">gMediaTypeList</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ab3098216d5a10a9ce65b47263bdc1609">get_content_type()</a>.</p>

</div>
</div>
<a id="ac400821e233b57570c6adf582d7f00dc" name="ac400821e233b57570c6adf582d7f00dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac400821e233b57570c6adf582d7f00dc">&#9670;&#160;</a></span>StrStr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * StrStr </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>s1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a substring from a string in a case insensitive way. </p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the first occurence of s2 in s1. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s1</td><td>Input string.  </td></tr>
    <tr><td class="paramname">s2</td><td>Input sub-string. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a7dcd890b1c129436c8da11133a94974b">ToUpperCase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a1d48e5b2efad9ef82773ad5649dcd80e">CheckOtherHTTPHeaders()</a>, and <a class="el" href="#ae57783648833263d20cd4452633cb732">CreateHTTPRangeResponseHeader()</a>.</p>

</div>
</div>
<a id="ad511c6cb01a5c9c3addbfe063945e4bb" name="ad511c6cb01a5c9c3addbfe063945e4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad511c6cb01a5c9c3addbfe063945e4bb">&#9670;&#160;</a></span>StrTok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * StrTok </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>Src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>Del</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds next token in a string. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the next token. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Src</td><td>String containing the token.  </td></tr>
    <tr><td class="paramname">Del</td><td>Set of delimiter characters. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="#a89ec8770ed2b9b6687d21d3268fde480">GetNextRange()</a>.</p>

</div>
</div>
<a id="a7dcd890b1c129436c8da11133a94974b" name="a7dcd890b1c129436c8da11133a94974b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dcd890b1c129436c8da11133a94974b">&#9670;&#160;</a></span>ToUpperCase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ToUpperCase </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts input string to upper case. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Input string to be converted. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="#ac400821e233b57570c6adf582d7f00dc">StrStr()</a>.</p>

</div>
</div>
<a id="abb77fc2cfdf0dfbd97e5b3880c4b18d1" name="abb77fc2cfdf0dfbd97e5b3880c4b18d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb77fc2cfdf0dfbd97e5b3880c4b18d1">&#9670;&#160;</a></span>web_server_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void web_server_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhttp__parser__t.html">http_parser_t</a> *</td>          <td class="paramname"><span class="paramname"><em>parser</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhttp__message__t.html">http_message_t</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSOCKINFO.html">SOCKINFO</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main entry point into web server; Handles HTTP GET and HEAD requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parser</td><td>.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req</td><td>.  </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">info</td><td>[in,out] . </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#ab5d6e5d57b51048cab2f64278aa0a939">alias_release()</a>, <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="structxml__alias__t.html#aefc1d2681af6ba48468f4960f5952864">xml_alias_t::doc</a>, <a class="el" href="httpreadwrite_8c.html#af5981cc2f7cc76c3e6b6700c5f27c472">http_MakeMessage()</a>, <a class="el" href="#ac133fc88fc4e39ba3dd0d6ed46841eaf">http_RecvPostMessage()</a>, <a class="el" href="httpreadwrite_8c.html#a333b21037bc6fd869e0b0b91cc073bbe">http_SendMessage()</a>, <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>, <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>, and <a class="el" href="upnpdebug_8h.html#afe489651d95ecf91dd452cdb2d5497c3">UpnpPrintf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#ga3c6309a98eb5281fbbfa45644c06fc34">UpnpEnableWebserver()</a>.</p>

</div>
</div>
<a id="a924c749a7ab389c09ddcdf458db01ac5" name="a924c749a7ab389c09ddcdf458db01ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a924c749a7ab389c09ddcdf458db01ac5">&#9670;&#160;</a></span>web_server_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void web_server_destroy </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release memory allocated for the global web server root directory and the global XML document. Resets the flag bWebServerState to WEB_SERVER_DISABLED. </p>

<p class="reference">References <a class="el" href="#ab5d6e5d57b51048cab2f64278aa0a939">alias_release()</a>, <a class="el" href="group__UPnPAPI.html#gaf2e50b19eb4233305087b3a85a6ca766">bWebServerState</a>, <a class="el" href="#a87ec1e6e6681b0e7da2a3da8a7c44bc8">gAliasDoc</a>, and <a class="el" href="group__UPnPAPI.html#ga27edf910202d9fb95a131e851cf2217d">gDocumentRootDir</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#ga3c6309a98eb5281fbbfa45644c06fc34">UpnpEnableWebserver()</a>, and <a class="el" href="group__UPnPAPI.html#ga5c3d3c4ede70e9b385a165c64daac4a7">UpnpFinish()</a>.</p>

</div>
</div>
<a id="a4c6abf771128f8ea3976c9eccdb13e4f" name="a4c6abf771128f8ea3976c9eccdb13e4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c6abf771128f8ea3976c9eccdb13e4f">&#9670;&#160;</a></span>web_server_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int web_server_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initilialize the different documents. Initialize the memory for root directory for web server. Call to initialize global XML document. Sets bWebServerState to WEB_SERVER_ENABLED. </p>
<dl class="section note"><dt>Note</dt><dd>alias_content is not freed here</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code> - OK </li>
<li><code>UPNP_E_OUTOF_MEMORY</code> </li>
</ul>
</dd></dl>

<p class="reference">References <a class="el" href="group__UPnPAPI.html#gaf2e50b19eb4233305087b3a85a6ca766">bWebServerState</a>, <a class="el" href="structVirtualDirCallbacks.html#a899329f83782984f3da347df5f3d8ca8">VirtualDirCallbacks::close</a>, <a class="el" href="group__UPnPAPI.html#ga27edf910202d9fb95a131e851cf2217d">gDocumentRootDir</a>, <a class="el" href="structVirtualDirCallbacks.html#ab859814466dd27df66e23489aa039f2d">VirtualDirCallbacks::get_info</a>, <a class="el" href="#ae3bb02fe6b5b9d2b79e273447e8d9aa1">glob_alias_init()</a>, <a class="el" href="#ab9f72aa8b4db1e0c258749e89d5ab71a">media_list_init()</a>, <a class="el" href="structVirtualDirCallbacks.html#a4c883b1191946a96a03e9609a4ca9885">VirtualDirCallbacks::open</a>, <a class="el" href="group__UPnPAPI.html#ga85ec286c63778e7aa2c8013917312713">pVirtualDirList</a>, <a class="el" href="structVirtualDirCallbacks.html#a0bf9f065c66621a62d574b6c8830f2d3">VirtualDirCallbacks::read</a>, <a class="el" href="structVirtualDirCallbacks.html#ac4e78f73e448288f260974034a6522d1">VirtualDirCallbacks::seek</a>, <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>, <a class="el" href="group__UPnPAPI.html#ga8496dde0ca68f0cd92b58db8563b73b7">UPNP_E_SUCCESS</a>, <a class="el" href="group__UPnPAPI.html#ga24983ed57bf9c82a82e0dc3daeaca538">virtualDirCallback</a>, and <a class="el" href="structVirtualDirCallbacks.html#a8deb56db69743da06dd9603aa2285b71">VirtualDirCallbacks::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#ga3c6309a98eb5281fbbfa45644c06fc34">UpnpEnableWebserver()</a>.</p>

</div>
</div>
<a id="aa4514a73581ffd12c050da5ad4998da4" name="aa4514a73581ffd12c050da5ad4998da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4514a73581ffd12c050da5ad4998da4">&#9670;&#160;</a></span>web_server_set_alias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int web_server_set_alias </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>alias_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>alias_content</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>alias_content_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t</td>          <td class="paramname"><span class="paramname"><em>last_modified</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replaces current alias with the given alias. To remove the current alias, set alias_name to NULL. </p>
<dl class="section note"><dt>Note</dt><dd>alias_content is not freed here</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>0</code> - OK </li>
<li><code>UPNP_E_OUTOF_MEMORY</code> </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">alias_name</td><td>Webserver name of alias; created by caller and freed by caller (doesn't even have to be malloc()d.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alias_content</td><td>The xml doc; this is allocated by the caller; and freed by the web server.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alias_content_length</td><td>Length of alias body in bytes.  </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">last_modified</td><td>Time when the contents of alias were last changed (local time). </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#ab5d6e5d57b51048cab2f64278aa0a939">alias_release()</a>, <a class="el" href="structxml__alias__t.html#a85b7169ffc7e7efaf8b97434c7c8e6e9">xml_alias_t::ct</a>, <a class="el" href="structxml__alias__t.html#aefc1d2681af6ba48468f4960f5952864">xml_alias_t::doc</a>, <a class="el" href="#a87ec1e6e6681b0e7da2a3da8a7c44bc8">gAliasDoc</a>, <a class="el" href="structxml__alias__t.html#a01fd2b7b320f58200bef78a62cb4504e">xml_alias_t::last_modified</a>, <a class="el" href="structxml__alias__t.html#ac2da478b8e52e45fe5e834306a2a4711">xml_alias_t::name</a>, and <a class="el" href="group__UPnPAPI.html#ga90d131a9be6dbaa4a41645b148941fd0">UPNP_E_OUTOF_MEMORY</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__UPnPAPI.html#gab04dfc9206cdac78f584e6d208ba9c72">UpnpUnRegisterRootDeviceLowPower()</a>.</p>

</div>
</div>
<a id="a6d275509109519a4ab1be27105d7434b" name="a6d275509109519a4ab1be27105d7434b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d275509109519a4ab1be27105d7434b">&#9670;&#160;</a></span>web_server_set_root_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int web_server_set_root_dir </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>root_dir</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign the path specfied by the input const char* root_dir parameter to the global Document root directory. Also check for path names ending in '/'. </p>
<dl class="section return"><dt>Returns</dt><dd>Integer. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">root_dir</td><td>String having the root directory for the document. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="structmembuffer.html#ac4c59c595502b1075ac517d9ea7b4743">membuffer::buf</a>, <a class="el" href="group__UPnPAPI.html#ga27edf910202d9fb95a131e851cf2217d">gDocumentRootDir</a>, and <a class="el" href="structmembuffer.html#a44f3b6407c4490964fbb7f831b55e996">membuffer::length</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a87ec1e6e6681b0e7da2a3da8a7c44bc8" name="a87ec1e6e6681b0e7da2a3da8a7c44bc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ec1e6e6681b0e7da2a3da8a7c44bc8">&#9670;&#160;</a></span>gAliasDoc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxml__alias__t.html">xml_alias_t</a> gAliasDoc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>XML document. </p>

<p class="reference">Referenced by <a class="el" href="#ae3b177eeeef77ba9a1d6434337eb00bb">alias_grab()</a>, <a class="el" href="#ae3bb02fe6b5b9d2b79e273447e8d9aa1">glob_alias_init()</a>, <a class="el" href="#ae77c3477be2c345c63540e6a1529e290">process_request()</a>, <a class="el" href="#a924c749a7ab389c09ddcdf458db01ac5">web_server_destroy()</a>, and <a class="el" href="#aa4514a73581ffd12c050da5ad4998da4">web_server_set_alias()</a>.</p>

</div>
</div>
<a id="a6c15665f35d4fefc9ae65c8bea905141" name="a6c15665f35d4fefc9ae65c8bea905141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c15665f35d4fefc9ae65c8bea905141">&#9670;&#160;</a></span>gMediaTypeList</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdocument__type__t.html">document_type_t</a> gMediaTypeList[70]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>module variables - Globals, static and externs. </p>

<p class="reference">Referenced by <a class="el" href="#ab9f72aa8b4db1e0c258749e89d5ab71a">media_list_init()</a>, and <a class="el" href="#a82ad8cde315ec9d79cefa71618343b6f">search_extension()</a>.</p>

</div>
</div>
<a id="a178626e0767b0310d893759c33a88039" name="a178626e0767b0310d893759c33a88039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a178626e0767b0310d893759c33a88039">&#9670;&#160;</a></span>gMediaTypes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* gMediaTypes[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">        </div>
<div class="line">        NULL,</div>
<div class="line">        </div>
<div class="line">        <span class="stringliteral">&quot;audio&quot;</span>,</div>
<div class="line">        </div>
<div class="line">        <span class="stringliteral">&quot;video&quot;</span>,</div>
<div class="line">        </div>
<div class="line">        <span class="stringliteral">&quot;image&quot;</span>,</div>
<div class="line">        </div>
<div class="line">        <span class="stringliteral">&quot;application&quot;</span>,</div>
<div class="line">        </div>
<div class="line">        <span class="stringliteral">&quot;text&quot;</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
